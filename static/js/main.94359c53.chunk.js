(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{289:function(e,t,n){e.exports=n(538)},294:function(e,t,n){},299:function(e,t,n){},538:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(27),c=n.n(o),l=(n(294),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function s(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}!function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");l?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):s(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):s(t,e)})}}();var i,u=n(29),d=n(69),p=n(19),f=n(26);!function(e){e.SET_USER="SET_USER",e.SET_ACTIVE_NOTE="SET_ACTIVE_NOTE",e.SET_NOTE_LIST="SET_NOTE_LIST",e.SET_FOLDER_LIST="SET_FOLDER_LIST",e.SET_FILTERED_NOTE_LIST="SET_FILTERED_NOTE_LIST",e.SET_SEARCH_QUERY="SET_SEARCH_QUERY",e.SET_SELECTED_NOTE="SET_SELECTED_NOTE",e.SET_SEARCHINPUT_FOCUS_STATE="SET_SEARCHINPUT_FOCUS_STATE",e.SET_OPEN_FOLDERS="SET_OPEN_FOLDERS"}(i||(i={}));var h=Object(d.b)({user:function(e,t){switch(t.type){case i.SET_USER:return t.data;default:return e||null}},notes:function(e,t){switch(t.type){case i.SET_NOTE_LIST:return Object(f.a)(t.data);default:return e||[]}},folders:function(e,t){switch(t.type){case i.SET_FOLDER_LIST:return Object(f.a)(t.data);default:return e||[]}},strSearch:function(e,t){switch(t.type){case i.SET_SEARCH_QUERY:return t.data;default:return e||""}},filteredNotes:function(e,t){var n=[];switch(t.type){case i.SET_FILTERED_NOTE_LIST:t.data&&(n=Object(f.a)(t.data));break;default:e&&(n=Object(f.a)(e))}return n.sort(function(e,t){return e.Title.toLowerCase().localeCompare(t.Title.toLowerCase())})},selectedNote:function(e,t){switch(t.type){case i.SET_SELECTED_NOTE:return t.data;default:return e||null}},openFolders:function(e,t){switch(t.type){case i.SET_OPEN_FOLDERS:return Object(p.a)({},t.data);default:return e||{}}}}),m=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__();m=void 0;var E=Object(d.c)(h,{},m),b=n(22),v=n(23),g=n(33),O=n(32),w=n(34),S=(n(299),n(300),n(5)),N=n(31),y=n(12),k=n.n(y),T=n(20),C=function(){function e(t,n){Object(b.a)(this,e),this.type=null,this.data=null,this.type=t,this.data=n}return Object(v.a)(e,[{key:"value",get:function(){return{type:this.type,data:this.data}}}]),e}(),j=n(122),D=n.n(j),_=D.a.initializeApp({apiKey:"AIzaSyCpFJ42-kwnLLQOLAiS3k7Z7JGMa6jQK4Y",authDomain:"arnotes-3dcf8.firebaseapp.com",projectId:"arnotes-3dcf8"}),I=n(117),x=n.n(I),L=new(function(){function e(){Object(b.a)(this,e),this.auth=void 0,this.googleAuthProvider=null,this.auth=_.auth(),this.googleAuthProvider=new D.a.auth.GoogleAuthProvider}return Object(v.a)(e,[{key:"loginWithGoogle",value:function(){return this.auth.signInWithRedirect(this.googleAuthProvider)}},{key:"logOut",value:function(){return this.auth.signOut()}}]),e}()),F=function(e){function t(e){return Object(b.a)(this,t),Object(g.a)(this,Object(O.a)(t).call(this,e))}return Object(w.a)(t,e),Object(v.a)(t,[{key:"loginWith",value:function(e){switch(e){case"google":L.loginWithGoogle()}}},{key:"render",value:function(){var e=this;return r.a.createElement(S.g,{open:!0,fullScreen:!1},r.a.createElement(S.k,null,"Login"),r.a.createElement(S.i,null,r.a.createElement(S.j,null,r.a.createElement(S.t,{component:"nav"},r.a.createElement(S.u,{button:!0,onClick:function(t){return e.loginWith("google")}},r.a.createElement(S.v,null,r.a.createElement("i",{className:"fab fa-google"})),r.a.createElement(S.w,null,"Sign in with Google")),r.a.createElement(S.E,{title:"Not supported"},r.a.createElement(S.u,{button:!0},r.a.createElement(S.v,null,r.a.createElement("i",{className:"fab fa-facebook"})),r.a.createElement(S.w,null,r.a.createElement("del",null,"Login with Facebook"))))))))}}]),t}(a.Component),R=Object(u.b)(function(e){return{user:e.user}},function(e){return{dispatch:e}})(F);function A(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"===typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,r=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw r}}}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var P=new(function(){function e(){Object(b.a)(this,e),this.firestore=_.firestore()}return Object(v.a)(e,[{key:"getCollection",value:function(){var e=Object(T.a)(k.a.mark(function e(t){var n,a,r,o,c=arguments;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:null,a=this.firestore.collection(t),n&&(a=n(a)),e.next=5,a.get();case 5:return r=e.sent,o=[],r.forEach(function(e){var t=e.data();t.ID=e.id,o.push(t)}),o.sort(function(e,t){return e.ID.localeCompare(t.ID)}),e.abrupt("return",o);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addToCollection",value:function(){var e=Object(T.a)(k.a.mark(function e(t,n){var a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.firestore.collection(t).add(n);case 2:return a=e.sent,n.ID=a.id,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateItem",value:function(e,t){return this.firestore.collection(e).doc(t.ID).update(t)}},{key:"updateMany",value:function(e,t){var n,a=this.firestore.batch(),r=A(t);try{for(r.s();!(n=r.n()).done;){var o=n.value,c=this.firestore.collection(e).doc(o.ID);a.update(c,o)}}catch(l){r.e(l)}finally{r.f()}return a.commit()}},{key:"removeItem",value:function(e,t){return this.firestore.collection(e).doc(t.ID).delete()}},{key:"removeMany",value:function(e,t){var n,a=this.firestore.batch(),r=A(t);try{for(r.s();!(n=r.n()).done;){var o=n.value,c=this.firestore.collection(e).doc(o.ID);a.delete(c)}}catch(l){r.e(l)}finally{r.f()}return a.commit()}}]),e}()),W=n(540),M=n(539),B=n(42),z=n(43),q=n(118),G=n.n(q),J=n(119),H=n.n(J),Q=n(120),Y=n.n(Q),V=n(50),X=n.n(V),K=n(541);function Z(e){var t=a.useState(""),n=Object(z.a)(t,2),r=n[0],o=n[1],c=a.useState(!1),l=Object(z.a)(c,2),s=l[0],i=l[1],u=a.useMemo(function(){return new W.a},[]),d=a.useCallback(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o(e),i(!0),u.pipe(Object(K.a)(1)).toPromise()},[]),p=a.useCallback(function(e){u.next(e),i(!1)},[]);return e.setShow&&e.setShow(d),a.createElement(S.g,{open:s},a.createElement(S.k,null,e.title),a.createElement(S.i,null,a.createElement(S.C,{style:{minWidth:"300px"},label:e.label,fullWidth:!0,value:r,onChange:function(e){return o(e.target.value)},margin:"dense"})),a.createElement(S.h,null,a.createElement(S.c,{onClick:function(e){return p(void 0)}},"Cancel"),a.createElement(S.c,{onClick:function(e){return p(r)}},"Ok")))}function ee(e){var t=a.useRef();return a.useEffect(function(){t&&t.current&&(t.current.model=e.model)},[e.model]),a.useEffect(function(){t&&t.current&&$(t.current).draggable({handle:".note-list-item-icon",revert:!0,revertDuration:0,axis:"y"})},[t.current]),a.createElement("span",{ref:t,className:e.className},e.children)}var te=Object(u.b)(function(e){return{notes:e.notes,strSearch:e.strSearch,selectedNote:e.selectedNote,openFolders:e.openFolders}},function(e){return{dispatch:e}})(function(e){var t=a.useState(null),n=Object(z.a)(t,2),o=n[0],c=n[1],l=new RegExp(e.strSearch||"","ig"),s=e.folder,u=(e.notes||[]).filter(function(e){return(e.Title+" "+e.Body).match(l)&&e.FolderID==s.ID}).sort(function(e,t){return e.Title.toLowerCase().localeCompare(t.Title.toLowerCase())}),d=e.selectedNote,f=e.checkedNotes||[],h=function(){var e=Object(a.useState)(!1),t=Object(z.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(""),l=Object(z.a)(c,2),s=l[0],i=l[1],u=Object(a.useState)(""),d=Object(z.a)(u,2),p=d[0],f=d[1],h=Object(a.useMemo)(function(){return new W.a},[]),m=Object(a.useCallback)(function(e,t){return i(e),f(t),o(!0),h.pipe(Object(K.a)(1)).toPromise()},[]),E=Object(a.useCallback)(function(e){h.next(e),o(!1)},[]);return[m,r.a.createElement(S.g,{open:n},r.a.createElement(S.k,null,s),r.a.createElement(S.i,null,r.a.createElement(S.j,null,p)),r.a.createElement(S.h,null,r.a.createElement(S.c,{onClick:function(e){return E(!1)}},"Cancel"),r.a.createElement(S.c,{onClick:function(e){return E(!0)}},"Ok")))]}(),m=Object(z.a)(h,2),E=m[0],b=m[1],v=null,g=a.useCallback(function(t,n){e.onCheckNote&&e.onCheckNote(t,n)},[]),O=a.useCallback(function(e){e.preventDefault(),e.stopPropagation(),c(e.target)},[]),w=a.useCallback(function(){c(null)},[]),N=a.useCallback(function(t,n){var a=Object(p.a)({},e.openFolders||{});a[s.ID]=n;var r=new C(i.SET_OPEN_FOLDERS,a);e.dispatch(r.value)},[s.ID,e.openFolders]),y=a.useCallback(function(){e.onClickAddNote&&e.onClickAddNote(s.ID),w()},[s]),j=a.useCallback(Object(T.a)(k.a.mark(function t(){return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return w(),t.next=3,E("Confirm","Delete Notes?");case 3:if(!t.sent){t.next=5;break}e.onClickDeleteNotes&&e.onClickDeleteNotes();case 5:case"end":return t.stop()}},t)})),[s,u]),D=a.useCallback(Object(T.a)(k.a.mark(function t(){return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return w(),t.next=3,E("Confirm",'Delete folder "'.concat(s.Name,'?"'));case 3:if(!t.sent){t.next=5;break}e.onClickDeleteFolder&&e.onClickDeleteFolder(e.folder);case 5:case"end":return t.stop()}},t)})),[s]),_=a.useCallback(Object(T.a)(k.a.mark(function t(){var n;return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return w(),t.next=3,v(s.Name);case 3:null!=(n=t.sent)&&e.onUpdateFolder&&e.onUpdateFolder(Object(p.a)({},s,{Name:n}));case 5:case"end":return t.stop()}},t)})),[s]);return a.createElement(G.a,{expanded:e.openFolders&&e.openFolders[e.folder.ID],onChange:N},a.createElement(H.a,{expandIcon:a.createElement("i",{className:"fas fa-angle-down"})},a.createElement(S.b,{color:u.length?"primary":"error",showZero:!0,badgeContent:u.length},a.createElement(X.a,null,s.Name))),a.createElement(Y.a,{style:{paddingLeft:"5px",paddingRight:"5px"}},a.createElement(S.t,{classes:{root:"note-list"},dense:!0,disablePadding:!0,style:{width:"100%"}},u.map(function(t,n){return a.createElement(ee,{key:t.ID,className:"draggable-note-liste-item",model:t},a.createElement(S.u,{classes:{root:"note-list-item"},divider:n+1<u.length,dense:!0,button:!0,selected:t.ID==(d&&d.ID||""),onClick:function(){return e.dispatch(new C(i.SET_SELECTED_NOTE,t).value)}},a.createElement(S.d,{style:{padding:"0px"},onClick:function(e){return e.stopPropagation()},onChange:function(e,n){return g(t,n)},checked:f.includes(t)}),a.createElement(S.w,{primary:t.Title}),a.createElement(S.v,{classes:{root:"note-list-item-icon"},onClick:function(e){return e.stopPropagation()}},a.createElement("i",{className:"fas fa-arrows-alt"}))))}))),a.createElement(S.l,null,a.createElement(S.m,{size:"small",color:"primary",onClick:O},a.createElement("i",{className:"fas fa-ellipsis-v"}))),a.createElement(S.x,{id:"simple-menu",anchorEl:o,open:Boolean(o),onClose:w},a.createElement(S.y,{onClick:y},a.createElement("i",{className:"fas fa-file-medical"}),"\xa0 Add Note"),null!=s.ID&&a.createElement(S.y,{onClick:_},a.createElement("i",{className:"fas fa-pen"}),"\xa0 Rename"),f.length&&a.createElement(a.Fragment,null,a.createElement(S.y,null,a.createElement("i",{className:"fas fa-exchange-alt"}),"\xa0 Move Notes"),a.createElement(S.y,{onClick:j},a.createElement("i",{style:{color:"#F44336"},className:"fas fa-file"}),"\xa0 Delete Notes")),null!=s.ID&&a.createElement(S.y,{onClick:D},a.createElement("i",{style:{color:"#F44336"},className:"fas fa-folder"}),"\xa0 Delete Folder")),a.createElement(Z,{title:"Rename Folder",label:"Folder Name",setShow:function(e){return v=e}}),b)});function ne(e){var t=a.useRef();return a.useEffect(function(){t&&t.current&&(t.current.model=e.model)},[e.model]),a.useEffect(function(){t&&t.current&&$(t.current).droppable({accept:e.accept,drop:function(t,n){var a=n.draggable[0],r=t.target;e.onJqDrop&&e.onJqDrop(a&&a.model||null,r&&r.model||null)}})},[t.current]),a.createElement("div",{ref:t,className:e.className},e.children)}var ae=function(e){function t(e){var n;return Object(b.a)(this,t),(n=Object(g.a)(this,Object(O.a)(t).call(this,e))).sbjSearch=new W.a,n.onSearchChange=function(e){n.setState(Object(p.a)({},n.state,{loading:!0,strSearch:e.target.value})),n.sbjSearch.next({})},n.onClickNote=function(e){n.props.onSelectNote&&n.props.onSelectNote(e)},n.onClickAddNote=function(){var e=Object(T.a)(k.a.mark(function e(t){var a,r,o;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="NEW_NOTE_"+(new Date).getTime().toString(),r={Body:"",Title:a,UID:n.props.user.uid,FolderID:t},e.next=4,P.addToCollection("notes",r);case 4:o=[].concat(Object(f.a)(n.props.notes),[r]),n.props.dispatch(new C(i.SET_NOTE_LIST,o).value),n.props.dispatch(new C(i.SET_SELECTED_NOTE,r).value),B.toast.info("New note added!",{position:"bottom-right",hideProgressBar:!0,autoClose:2500}),setTimeout(function(){var e=document.querySelector("#txt-note-title");e.focus(),e.select()},100);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.onClickDeleteNotes=Object(T.a)(k.a.mark(function e(){var t,a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(f.a)(n.state.checkedNotes),n.state.checkedNotes.includes(n.props.selectedNote)&&n.props.dispatch(new C(i.SET_SELECTED_NOTE,null).value),n.setState(Object(p.a)({},n.state,{checkedNotes:[]})),a=n.props.notes.filter(function(e){return!t.includes(e)}),n.props.dispatch(new C(i.SET_NOTE_LIST,a).value),B.toast.info("".concat(t.length," note/s deleted!"),{position:"bottom-right",hideProgressBar:!0,autoClose:2500}),e.next=8,P.removeMany("notes",t);case 8:case"end":return e.stop()}},e)})),n.onClickAddFolder=Object(T.a)(k.a.mark(function e(){var t;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={ID:null,Name:"NEW_FOLDER_"+(new Date).getTime(),UID:n.props.user.uid},e.next=3,P.addToCollection("folders",t);case 3:n.props.dispatch(new C(i.SET_FOLDER_LIST,[].concat(Object(f.a)(n.props.folders),[t])).value),B.toast.info("New folder added!",{position:"bottom-right",hideProgressBar:!0,autoClose:2500});case 5:case"end":return e.stop()}},e)})),n.onClickDeleteFolder=function(){var e=Object(T.a)(k.a.mark(function e(t){var a,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props.folders.filter(function(e){return e.ID!=t.ID}),(r=n.props.notes.filter(function(e){return e.FolderID==t.ID})).forEach(function(e){return e.FolderID=null}),console.log(t,r),e.next=6,P.removeItem("folders",t);case 6:return e.next=8,P.updateMany("notes",r);case 8:n.props.dispatch(new C(i.SET_FOLDER_LIST,a).value),n.props.dispatch(new C(i.SET_NOTE_LIST,Object(f.a)(n.props.notes)).value),B.toast.info("Folder deleted!",{position:"bottom-right",hideProgressBar:!0,autoClose:2500});case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.onNoteListCheck=function(e,t){t?n.setState(Object(p.a)({},n.state,{checkedNotes:[].concat(Object(f.a)(n.state.checkedNotes),[e])})):n.setState(Object(p.a)({},n.state,{checkedNotes:n.state.checkedNotes.filter(function(t){return t.ID!=e.ID})}))},n.onUpdateFolder=function(){var e=Object(T.a)(k.a.mark(function e(t){var a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=n.props.folders.findIndex(function(e){return e.ID==t.ID}))+1)){e.next=6;break}return n.props.folders[a]=t,n.props.dispatch(new C(i.SET_FOLDER_LIST,Object(f.a)(n.props.folders)).value),e.next=6,P.updateItem("folders",t);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.onDropToFolder=function(){var e=Object(T.a)(k.a.mark(function e(t,a){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!a){e.next=6;break}return t.FolderID=a.ID,n.props.dispatch(new C(i.SET_NOTE_LIST,Object(f.a)(n.props.notes)).value),e.next=5,P.updateItem("notes",t);case 5:B.toast.info('"'.concat(t.Title,'" moved to "').concat(a.Name,'"'),{position:"bottom-right",hideProgressBar:!0,autoClose:2500});case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),n.willFolderAcceptNote=function(e,t){var n=e[0],a=n&&n.model||null;return!(!a||a.FolderID==t.ID)},n.state={checkedNotes:[],strSearch:null},n}return Object(w.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.sbjSearch.pipe(Object(M.a)(500)).subscribe(function(){e.setState(Object(p.a)({},e.state,{loading:!1})),e.props.dispatch(new C(i.SET_SEARCH_QUERY,e.state.strSearch).value)})}},{key:"getFilterNotes",value:function(){var e=this.props&&this.props.selectedNote&&this.props.selectedNote.ID||"",t=(this.props.strSearch||"").toLowerCase();return(this.props.notes||[]).slice(0).filter(function(n){return n.Body.toLowerCase().includes(t)||n.Title.toLocaleLowerCase().includes(t)||n.ID==e})}},{key:"render",value:function(){var e=this,t=this.state.loading,n=this.state.strSearch,a=(this.props.folders||[]).sort(function(e,t){return e.Name.toLowerCase().localeCompare(t.Name.toLowerCase())}),o=[{ID:null,Name:"General Notes",UID:this.props.user.uid}].concat(Object(f.a)(a));return null==n&&(n=this.props.strSearch||""),r.a.createElement("div",{className:"note-list-component"},r.a.createElement(S.z,{classes:{root:"actions-bar-wrapper"}},r.a.createElement(S.t,null,r.a.createElement(S.u,{button:!0,dense:!0,onClick:this.onClickAddFolder},r.a.createElement(S.w,{classes:{root:"note-item-text"}},"ADD FOLDER"),r.a.createElement(S.v,null,r.a.createElement("i",{className:"fas fa-folder-plus"})))),"\xa0"),r.a.createElement(S.z,{classes:{root:"searchbar-paper"}},r.a.createElement("div",{className:"search-input-wrapper"},r.a.createElement(S.r,{onChange:this.onSearchChange,value:n,classes:{root:"search-input"},placeholder:"Search.."}),r.a.createElement(S.p,{fontSize:"small",classes:{root:"search-icon"}},r.a.createElement("i",{style:{color:"#a0a0a0"},className:"fas fa-search"})))),r.a.createElement(S.s,{classes:{root:t?"search-progress-loading":"search-progress-complete"},color:"primary"}),r.a.createElement("div",{className:"list-of-notes"},o.map(function(t){return r.a.createElement(ne,{className:"droppable-folder",key:t.ID,model:t,onJqDrop:e.onDropToFolder,accept:function(n){return e.willFolderAcceptNote(n,t)}},r.a.createElement(te,{checkedNotes:e.state.checkedNotes,onCheckNote:e.onNoteListCheck,onClickAddNote:e.onClickAddNote,onClickDeleteNotes:e.onClickDeleteNotes,onClickDeleteFolder:e.onClickDeleteFolder,onUpdateFolder:e.onUpdateFolder,folder:t}))})))}}]),t}(a.Component),re=Object(u.b)(function(e){return Object(p.a)({},e)},function(e){return{dispatch:e}})(ae),oe=n(239),ce=function(e){function t(e){var n;return Object(b.a)(this,t),(n=Object(g.a)(this,Object(O.a)(t).call(this,e))).sbjChange=new W.a,n.currentNoteID=null,n.onCloseNote=function(){n.props.dispatch(new C(i.SET_SELECTED_NOTE,null).value)},n.onDeleteNote=function(){var e=Object(T.a)(k.a.mark(function e(t){var a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.removeItem("notes",t);case 2:a=n.props.notes.filter(function(e){return e.ID!=t.ID}),n.props.dispatch(new C(i.SET_NOTE_LIST,a).value),n.onCloseNote();case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.onBodyChange=function(e){var t=n.props.selectedNote;t&&t.Body!=e&&(t.Body=e,n.sbjChange.next({title:n.state.title,body:n.state.body,readonly:n.state.readonly}),n.setState(Object(p.a)({},n.state,{loading:!0,body:e})))},n.copyClipboard=function(){var e=document.createElement("input");e.className="copyhelper",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),B.toast.info('"'.concat(n.props.selectedNote.Title,'" copied to clipboard.'),{position:"bottom-right",hideProgressBar:!0,autoClose:2500})},n.state={},n}return Object(w.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.sbjChange.pipe(Object(M.a)(500)).subscribe(Object(T.a)(k.a.mark(function t(){return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.dispatch(new C(i.SET_SELECTED_NOTE,e.props.selectedNote).value),e.props.dispatch(new C(i.SET_NOTE_LIST,Object(f.a)(e.props.notes)).value),t.next=4,P.updateItem("notes",e.props.selectedNote);case 4:e.setState(Object(p.a)({},e.state,{loading:!1}));case 5:case"end":return t.stop()}},t)})))}},{key:"componentWillReceiveProps",value:function(e,t){var n=e,a=n.selectedNote&&n.selectedNote.ID||null;this.currentNoteID!=a&&this.setState(Object(p.a)({},this.state,{title:null,body:null,readonly:null})),this.currentNoteID=n.selectedNote&&n.selectedNote.ID||null}},{key:"onTitleChange",value:function(e){this.props.selectedNote.Title=e,this.sbjChange.next({title:this.state.title,body:this.state.body,readonly:this.state.readonly}),this.setState(Object(p.a)({},this.state,{loading:!0,title:e}))}},{key:"onReadOnlyChange",value:function(e){this.props.selectedNote.IsReadOnly=e,this.sbjChange.next({title:this.state.title,body:this.state.body,readonly:this.state.readonly}),this.setState(Object(p.a)({},this.state,{loading:!0,readonly:e}))}},{key:"render",value:function(){var e=this,t=this.props.selectedNote,n=this.state,a=n.title,o=n.body,c=n.readonly;return null==a&&(a=t&&t.Title||""),null==o&&(o=t&&t.Body||""),null==c&&(c=t&&t.IsReadOnly||!1),r.a.createElement("div",{className:"note-editor-component"},r.a.createElement("div",{className:"empty-editor-wrapper "+(t&&"hidden")},r.a.createElement("div",{className:"empty-editor-paper"},r.a.createElement("div",null,r.a.createElement(S.p,null,r.a.createElement("i",{className:"backdrop-icon fas fa-book"}))))),r.a.createElement(S.z,{classes:{root:!t&&"hidden"},square:!0},r.a.createElement("div",{className:"title-wraper"},r.a.createElement(S.C,{id:"txt-note-title",label:"Title",onChange:function(t){return e.onTitleChange(t.target.value)},classes:{root:"txt-title"},disabled:!t,value:a}),r.a.createElement(S.e,{color:"secondary",className:"editor-save-progress "+(!this.state.loading&&"hidden")}))),r.a.createElement(S.z,{classes:{root:"quill-paper-wrapper "+(!t&&"hidden")},square:!0},r.a.createElement(oe.a,{apiKey:"g8p3uw4cm5xtob3gmhm918uozx96r78pql9tian9u9rzr1ip",init:{paste_data_images:!0,skin:"/skins/ui/CUSTOM/skin.css",content_css:"/skins/ui/CUSTOM/content.css",height:666,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | formatselect | bold italic backcolor |                 alignleft aligncenter alignright alignjustify |                 bullist numlist outdent indent | removeformat | help"},disabled:!t||c,value:o,onEditorChange:this.onBodyChange}),r.a.createElement("div",{className:"bottom-toolbar"},r.a.createElement(S.n,{control:r.a.createElement(S.B,{checked:c,onChange:function(t,n){return e.onReadOnlyChange(n)}}),label:"Read-only"}))))}}]),t}(a.Component),le=Object(u.b)(function(e){return Object(p.a)({},e)},function(e){return{dispatch:e}})(ce),se=function(e){function t(e){var n;return Object(b.a)(this,t),(n=Object(g.a)(this,Object(O.a)(t).call(this,e))).toggleDrawer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==e&&(e=!n.state.drawerOpen),n.setState(Object(p.a)({},n.state,{drawerOpen:e}))},n.logout=Object(T.a)(k.a.mark(function e(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.logOut();case 2:n.props.dispatch(new C(i.SET_USER,null).value);case 3:case"end":return e.stop()}},e)})),n.onSelectNote=function(e){n.props.dispatch(new C(i.SET_SELECTED_NOTE,e).value),n.toggleDrawer(!1)},n.state={drawerOpen:!1},n}return Object(w.a)(t,e),Object(v.a)(t,[{key:"isMobile",value:function(){return"xs"==this.props.width||"sm"==this.props.width}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"layout-component ".concat((this.state.drawerOpen||!this.isMobile())&&"drawer-open")},r.a.createElement("nav",null,r.a.createElement(S.A,{anchor:"left",variant:this.isMobile()?"temporary":"permanent",onOpen:function(){return e.toggleDrawer(!0)},onClose:function(){return e.toggleDrawer(!1)},open:this.state.drawerOpen,classes:{paper:"drawer-paper"}},r.a.createElement(re,{onSelectNote:this.onSelectNote}))),r.a.createElement(S.a,{color:"primary",position:"relative"},r.a.createElement(S.D,null,r.a.createElement(S.o,{only:["md","lg","xl"]},r.a.createElement(S.q,{onClick:function(){return e.toggleDrawer()}},r.a.createElement("i",{className:"fas fa-bars"}))),r.a.createElement(S.F,{variant:"h6",color:"inherit"},this.props.user.email),r.a.createElement(S.E,{title:"Sign Out",placement:"left"},r.a.createElement(S.q,{onClick:this.logout,classes:{root:"btn-logout"}},r.a.createElement("i",{style:{fontSize:"20px"},className:"fas fa-power-off"}))))),r.a.createElement("div",{className:"layout-content"},r.a.createElement(le,null)))}}]),t}(a.Component),ie=Object(u.b)(function(e){return{user:e.user}},function(e){return{dispatch:e}})(se),ue=Object(S.G)()(ie),de=function(e){function t(e){var n;return Object(b.a)(this,t),(n=Object(g.a)(this,Object(O.a)(t).call(this,e))).state={loading:!0},n}return Object(w.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.checkAuth()}},{key:"checkAuth",value:function(){var e=Object(T.a)(k.a.mark(function e(){var t=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState(Object(p.a)({},this.state,{loading:!0})),_.auth().onAuthStateChanged(function(e){t.props.dispatch(new C(i.SET_USER,e).value),t.setState(Object(p.a)({},t.state,{loading:!1})),e&&t.loadNotes()});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"loadNotes",value:function(){var e=Object(T.a)(k.a.mark(function e(){var t,n,a=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=P.getCollection("folders",function(e){return e.where("UID","==",a.props.user.uid)}),n=P.getCollection("notes",function(e){return e.where("UID","==",a.props.user.uid)}),e.t0=this.props,e.t1=C,e.t2=i.SET_NOTE_LIST,e.next=7,n;case 7:return e.t3=e.sent,e.t4=new e.t1(e.t2,e.t3).value,e.t0.dispatch.call(e.t0,e.t4),e.t5=this.props,e.t6=C,e.t7=i.SET_FOLDER_LIST,e.next=15,t;case 15:e.t8=e.sent,e.t9=new e.t6(e.t7,e.t8).value,e.t5.dispatch.call(e.t5,e.t9);case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?r.a.createElement("div",{className:"giant-progress-container-wrapper"},r.a.createElement("div",{className:"giant-progress-container"},r.a.createElement(x.a,{variant:"indeterminate",size:200,value:50,color:"primary"}))):null==this.props.user?r.a.createElement("div",{className:"flex-hbox login-wrapper"},r.a.createElement(R,null)):r.a.createElement(ue,null)}}]),t}(a.Component),pe=Object(u.b)(function(e){return{user:e.user}},function(e){return{dispatch:e}})(de),fe=Object(N.createMuiTheme)({palette:{type:"dark",primary:{main:"#673ab7"},secondary:{main:"#00e5ff"}}}),he=function(e){function t(e){return Object(b.a)(this,t),Object(g.a)(this,Object(O.a)(t).call(this,e))}return Object(w.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return r.a.createElement(N.MuiThemeProvider,{theme:fe},r.a.createElement(S.f,null),r.a.createElement(pe,null),r.a.createElement(B.ToastContainer,null))}}]),t}(a.Component);c.a.render(r.a.createElement(u.a,{store:E},r.a.createElement(he,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[289,1,2]]]);
//# sourceMappingURL=main.94359c53.chunk.js.map