{"version":3,"sources":["serviceWorker.ts","redux/action-types.ts","redux/reducers.ts","redux/store.ts","redux/redux-action.class.ts","services/firebase.service.ts","services/auth.service.ts","components/Login.tsx","services/database.service.ts","components/NoteList.tsx","components/NoteEditor.tsx","components/Layout.tsx","components/AuthProtector.tsx","components/App.tsx","index.tsx"],"names":["Boolean","window","location","hostname","match","ActionTypes","combinedReducers","combineReducers","user","userState","action","type","SET_USER","data","notes","SET_NOTE_LIST","Object","toConsumableArray","sort","a","b","Index","strSearch","str","SET_SEARCH_QUERY","filteredNotes","returnVal","SET_FILTERED_NOTE_LIST","Title","toLowerCase","localeCompare","selectedNote","note","SET_SELECTED_NOTE","store","createStore","ReduxAction","classCallCheck","this","createClass","key","get","firebaseSvc","firebase","initializeApp","apiKey","process","authDomain","projectId","authSvc","AuthService","auth","googleAuthProvider","GoogleAuthProvider","signInWithRedirect","signOut","Login","props","possibleConstructorReturn","getPrototypeOf","call","loginType","loginWithGoogle","_this","react_default","createElement","index_es","open","fullScreen","component","button","onClick","e","loginWith","className","title","Component","connected","connect","state","dispatch","databaseSvc","firestore","collectionPath","qry","coll","collection","snapshot","items","forEach","doc","docData","ID","id","push","item","add","docRef","update","batch","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","value","itemDocRef","err","return","commit","delete","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","NoteList","p","sbjSearch","Subject","onSearchChange","setState","objectSpread","loading","target","onClickNote","onSelectNote","onClickAddNote","asyncToGenerator","regenerator_default","mark","_callee","dummyTitle","newNote","newNoteList","wrap","_context","prev","console","log","Date","getTime","toString","Body","UID","uid","addToCollection","concat","setTimeout","titleInput","document","querySelector","focus","select","stop","onClickDeleteNotes","_callee2","notesToDelete","_context2","checkedNotes","includes","filter","n","removeMany","onNoteListCheck","checked","dragulaDecorator","componentBackingInstance","Dragula","on","el","source","sibling","arrayMinusDroppedItem","siblingList","Array","from","children","dropIndex","indexOf","previousSibling","nextSibling","insertIndex","findIndex","splice","find","i","onNoteListReorder","_this2","pipe","debounceTime","subscribe","selectedNoteID","searchToLower","slice","toLocaleLowerCase","updateMany","index","_this3","selected","dense","divider","classes","root","onChange","stopPropagation","_this4","getFilterNotes","disabled","length","placeholder","fontSize","style","color","ref","map","renderListItem","NoteEditor","sbjChange","currentNoteID","onCloseNote","onDeleteNote","_ref","noteToDelete","removeItem","_x","apply","arguments","updateItem","prop","upcomingNoteID","body","delta","_this$state","square","label","onTitleChange","lib_default","onBodyChange","readOnly","theme","Layout","toggleDrawer","isOpen","drawerOpen","logout","logOut","width","isMobile","anchor","variant","onClose","paper","components_NoteList","position","only","email","placement","components_NoteEditor","withWidthConnected","withWidth","AuthProtector","checkAuth","onAuthStateChanged","loadNotes","getCollection","where","CircularProgress_default","size","components_Login","components_Layout","createMuiTheme","palette","primary","main","secondary","App","styles","components_AuthProtector","ReactDOM","render","es","components_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.70c92423.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export enum ActionTypes {\r\n  SET_USER = 'SET_USER',\r\n  SET_ACTIVE_NOTE = 'SET_ACTIVE_NOTE',\r\n  SET_NOTE_LIST = 'SET_NOTE_LIST',\r\n  SET_FILTERED_NOTE_LIST = 'SET_FILTERED_NOTE_LIST',\r\n  SET_SEARCH_QUERY = 'SET_SEARCH_QUERY',\r\n  SET_SELECTED_NOTE = 'SET_SELECTED_NOTE',\r\n  SET_SEARCHINPUT_FOCUS_STATE = 'SET_SEARCHINPUT_FOCUS_STATE'\r\n}","import { ReduxAction, IReduxAction } from \"./redux-action.class\";\r\nimport { ActionTypes } from \"./action-types\";\r\nimport { combineReducers } from \"redux\";\r\nimport { INote } from \"../models/note.interface\";\r\nimport { StoreState } from \"./store-state\";\r\n\r\nfunction user(userState:firebase.User, action:IReduxAction<firebase.User>) {\r\n  switch (action.type) {\r\n    case ActionTypes.SET_USER:\r\n      return action.data as firebase.User;\r\n      break;\r\n  \r\n    default:\r\n      return userState || null;\r\n      break;\r\n  }\r\n}\r\n\r\nfunction notes(notes:INote[], action:IReduxAction<INote[]>){\r\n  switch (action.type) {\r\n    case ActionTypes.SET_NOTE_LIST:\r\n      return [...action.data].sort((a,b)=>(a.Index||0)-(b.Index||0));\r\n      break;\r\n  \r\n    default:\r\n      return notes||[];\r\n      break;\r\n  }\r\n}\r\n\r\nfunction filteredNotes(notes:INote[], action:IReduxAction<INote[]>){\r\n  let returnVal:INote[] = [];\r\n  switch (action.type) {\r\n    case ActionTypes.SET_FILTERED_NOTE_LIST:\r\n      if(action.data){\r\n        returnVal = [...action.data];\r\n      }\r\n      break;\r\n  \r\n    default:\r\n      if(notes){\r\n        returnVal = [...notes];\r\n      }\r\n      break;\r\n  }\r\n\r\n  return returnVal.sort((a,b)=>a.Title.toLowerCase().localeCompare(b.Title.toLowerCase()));\r\n}\r\n\r\nfunction strSearch(str:string, action:IReduxAction<string>){\r\n  switch (action.type) {\r\n    case ActionTypes.SET_SEARCH_QUERY:\r\n      return action.data;\r\n      break;\r\n  \r\n    default:\r\n      return str||\"\";\r\n      break;\r\n  }\r\n}\r\n\r\nfunction selectedNote(note:INote, action:IReduxAction<INote>){\r\n  switch (action.type) {\r\n    case ActionTypes.SET_SELECTED_NOTE:\r\n      return action.data;\r\n      break;\r\n  \r\n    default:\r\n      return note||null;\r\n      break;\r\n  }\r\n}\r\n\r\nexport const combinedReducers = combineReducers({\r\n  user,\r\n  notes:notes,\r\n  strSearch:strSearch,\r\n  filteredNotes:filteredNotes,\r\n  selectedNote:selectedNote\r\n});","import { createStore } from 'redux';\r\nimport { combinedReducers } from './reducers';\r\n\r\nexport const store = createStore(combinedReducers, {});","export interface IReduxAction<T> {\r\n    type: string;\r\n    data: T;\r\n}\r\n\r\nexport class ReduxAction<T> implements IReduxAction<T>{\r\n    constructor(type:string, data:T){\r\n        this.type = type;\r\n        this.data = data;\r\n    }\r\n\r\n    get value ():IReduxAction<T> {\r\n       return {\r\n           type: this.type,\r\n           data: this.data\r\n       }\r\n    }\r\n\r\n    type:string = null;\r\n    data:T = null;\r\n}","import firebase from 'firebase';\r\nconst firebaseSvc = firebase.initializeApp({\r\n    apiKey: process.env.REACT_APP_APIKEY,\r\n        authDomain: process.env.REACT_APP_AUTHDOMAIN,\r\n        projectId: process.env.REACT_APP_PROJECTID\r\n});\r\n\r\nexport default firebaseSvc;","import firebaseSvc from \"./firebase.service\";\r\nimport firebase from \"firebase\";\r\n\r\nclass AuthService{\r\n    constructor(){\r\n        this.auth = firebaseSvc.auth();\r\n        this.googleAuthProvider = new firebase.auth.GoogleAuthProvider();\r\n    }\r\n\r\n    private auth:firebase.auth.Auth;\r\n\r\n    loginWithGoogle(){\r\n        return this.auth.signInWithRedirect(this.googleAuthProvider);\r\n    }\r\n\r\n    logOut(){\r\n        return this.auth.signOut();\r\n    }\r\n\r\n    googleAuthProvider:firebase.auth.GoogleAuthProvider = null;\r\n}\r\n\r\nconst authSvc = new AuthService();\r\nexport default authSvc;","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { StoreState } from '../redux/store-state';\r\nimport { Dispatch } from 'redux';\r\nimport { Card, CardHeader, CardContent, Typography, Button, Dialog, DialogTitle, DialogContent, DialogContentText, List, ListItem, ListItemText, ListItemIcon, Icon, Tooltip } from '@material-ui/core';\r\nimport { IReduxAction } from '../redux/redux-action.class';\r\nimport withMobileDialog from '@material-ui/core/withMobileDialog';\r\nimport authSvc from '../services/auth.service';\r\n\r\ninterface LoginProps extends StoreState{\r\n    dispatch?:<T>(action:IReduxAction<T>)=>void,\r\n    fullScreen?:boolean\r\n}\r\n\r\nclass Login extends Component<LoginProps> {\r\n  \r\n  constructor(props){\r\n    super(props);\r\n  }\r\n\r\n  loginWith(loginType:\"google\"|\"facebook\"){\r\n    switch (loginType) {\r\n      case \"google\":\r\n        authSvc.loginWithGoogle();\r\n        break;\r\n    \r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Dialog open={true} fullScreen={false} >\r\n        <DialogTitle >\r\n          Login\r\n            </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            <List component=\"nav\">\r\n              <ListItem button onClick={e => this.loginWith(\"google\")}>\r\n                <ListItemIcon><i className=\"fab fa-google\"></i></ListItemIcon>\r\n                <ListItemText>Sign in with Google</ListItemText>\r\n              </ListItem>\r\n              <Tooltip title=\"Not supported\">\r\n                <ListItem button >\r\n                  <ListItemIcon><i className=\"fab fa-facebook\"></i></ListItemIcon>\r\n                  <ListItemText><del>Login with Facebook</del></ListItemText>\r\n                </ListItem>\r\n              </Tooltip>\r\n            </List>\r\n          </DialogContentText>\r\n        </DialogContent>\r\n      </Dialog>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state:StoreState):LoginProps => ({\r\n  user:state.user\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch:Dispatch<any>):LoginProps => {\r\n  return {\r\n    dispatch:dispatch\r\n  }\r\n}\r\n\r\nconst connected = connect(mapStateToProps, mapDispatchToProps)(Login);\r\nexport default connected;\r\n","import firebaseSvc from \"./firebase.service\";\r\n\r\nclass FireStoreDatabase {\r\n\r\n  async getCollection<T>(collectionPath: string, qry: (collection: firebase.firestore.Query) => firebase.firestore.Query = null) {\r\n\r\n    let coll = this.firestore.collection(collectionPath) as firebase.firestore.Query;\r\n    if (qry) {\r\n      coll = qry(coll);\r\n    }\r\n\r\n    const snapshot = await coll.get();\r\n    let items: T[] = [];\r\n    snapshot.forEach(doc => {\r\n      let docData: any = doc.data();\r\n      docData.ID = doc.id;\r\n      items.push(docData);\r\n    });\r\n    (items as any[]).sort((a, b) => a.ID.localeCompare(b.ID));\r\n    return items;\r\n  }\r\n\r\n  async addToCollection<T>(collectionPath: string, item: T) {\r\n    const docRef = await this.firestore\r\n      .collection(collectionPath)\r\n      .add(item);\r\n    item['ID'] = docRef.id;\r\n    return item;\r\n  }\r\n\r\n  updateItem<T>(collectionPath: string, item: T) {\r\n    return this.firestore\r\n      .collection(collectionPath)\r\n      .doc(item['ID'])\r\n      .update(item);\r\n  }\r\n\r\n  updateMany<T>(collectionPath: string, items: T[]){\r\n    const batch = this.firestore.batch();\r\n    for (const item of items) {\r\n      const itemDocRef = this.firestore.collection(collectionPath).doc(item[\"ID\"]);\r\n      batch.update(itemDocRef, item);\r\n    }\r\n    return batch.commit();\r\n  }\r\n\r\n  removeItem<T>(collectionPath: string, item: T) {\r\n    return this.firestore\r\n      .collection(collectionPath)\r\n      .doc(item['ID'])\r\n      .delete();\r\n  }\r\n\r\n  removeMany<T>(collectionPath:string, items:T[]){\r\n    const batch = this.firestore.batch();\r\n    for (const item of items) {\r\n      const itemDocRef = this.firestore.collection(collectionPath).doc(item[\"ID\"]);\r\n      batch.delete(itemDocRef);\r\n    }\r\n\r\n    return batch.commit();\r\n  }\r\n\r\n  firestore = firebaseSvc.firestore();\r\n}\r\n\r\nexport const databaseSvc = new FireStoreDatabase();","import React, { Component, Dispatch } from 'react'\r\nimport PropTypes, { element } from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { StoreState } from '../redux/store-state';\r\nimport { IReduxAction, ReduxAction } from '../redux/redux-action.class';\r\nimport { databaseSvc } from '../services/database.service';\r\nimport { INote } from '../models/note.interface';\r\nimport { Paper, InputBase, Icon, LinearProgress, List, ListItem, ListItemText, ButtonBase, Button, Divider, ListItemIcon, Checkbox } from '@material-ui/core';\r\nimport color from '@material-ui/core/colors/lime';\r\nimport { ActionTypes } from '../redux/action-types';\r\nimport { Subject } from 'rxjs';\r\nimport { debounceTime } from 'rxjs/operators';\r\nimport * as ReactDOM from 'react-dom';\r\nimport Dragula from 'react-dragula';\r\n\r\ninterface Props extends StoreState{\r\n  notes?:INote[];\r\n  dispatch?:Dispatch<IReduxAction<any>>;\r\n  onSelectNote?:(note:INote)=>any\r\n  onAddNote?:(note:INote)=>any\r\n}\r\n\r\ninterface State{\r\n  loading?:boolean;\r\n  strSearch?:string;\r\n  checkedNotes?:INote[];\r\n}\r\n\r\nclass NoteList extends Component<Props,State> {\r\n  constructor(p){\r\n    super(p);\r\n    this.state = {\r\n      checkedNotes:[],\r\n      strSearch:null\r\n    };\r\n  }\r\n\r\n  sbjSearch = new Subject();\r\n\r\n  componentDidMount(){\r\n    this.sbjSearch\r\n      .pipe(debounceTime(500))\r\n      .subscribe(()=>{\r\n        this.setState({...this.state,loading:false});\r\n        this.props.dispatch(new ReduxAction(ActionTypes.SET_SEARCH_QUERY, this.state.strSearch).value);\r\n      });\r\n  }\r\n\r\n  getFilterNotes(){\r\n    const selectedNoteID = this.props && this.props.selectedNote && this.props.selectedNote.ID || \"\";\r\n    const searchToLower = (this.props.strSearch||\"\").toLowerCase();\r\n    const filtered = (this.props.notes||[])\r\n                          .slice(0)\r\n                          .filter(n => n.Body.toLowerCase().includes(searchToLower) ||\r\n                                    n.Title.toLocaleLowerCase().includes(searchToLower) ||\r\n                                    n.ID == selectedNoteID);\r\n    return filtered;\r\n  }\r\n\r\n  onSearchChange = (e:React.ChangeEvent<HTMLInputElement>)=>{\r\n    this.setState({...this.state,loading:true,strSearch:e.target.value});\r\n    this.sbjSearch.next({});\r\n  }\r\n\r\n  onClickNote = (note:INote)=>{\r\n    this.props.onSelectNote && this.props.onSelectNote(note);\r\n  }\r\n\r\n  onClickAddNote = async ()=>{\r\n    console.log('aw');\r\n    const dummyTitle = 'NEW_NOTE_'+(new Date().getTime().toString());\r\n    let newNote:INote = {\r\n      Body:'',\r\n      Title:dummyTitle,\r\n      UID:this.props.user.uid\r\n    }\r\n    await databaseSvc.addToCollection('notes',newNote);\r\n    const newNoteList = [...this.props.notes, newNote];\r\n    this.props.dispatch(new ReduxAction(ActionTypes.SET_NOTE_LIST,newNoteList).value);\r\n    this.props.dispatch(new ReduxAction(ActionTypes.SET_SELECTED_NOTE, newNote).value);\r\n    setTimeout(() => {\r\n      const titleInput = document.querySelector('#txt-note-title') as HTMLInputElement;\r\n      titleInput.focus();\r\n      titleInput.select();\r\n    }, 100);\r\n  }\r\n\r\n  onClickDeleteNotes = async ()=>{\r\n    const notesToDelete = [...this.state.checkedNotes];\r\n\r\n    if(this.state.checkedNotes.includes(this.props.selectedNote)){\r\n      this.props.dispatch(new ReduxAction(ActionTypes.SET_SELECTED_NOTE, null).value);\r\n    }\r\n    this.setState({...this.state, checkedNotes:[]});\r\n\r\n    const newNoteList = this.props.notes.filter(n => !notesToDelete.includes(n));\r\n    this.props.dispatch(new ReduxAction(ActionTypes.SET_NOTE_LIST, newNoteList).value);\r\n    await databaseSvc.removeMany('notes', notesToDelete);\r\n  }\r\n\r\n  onNoteListCheck = (note:INote, checked:boolean)=>{\r\n    if(checked){\r\n      this.setState({...this.state, checkedNotes:[...this.state.checkedNotes,note]});\r\n    }else{\r\n      this.setState({...this.state, checkedNotes:this.state.checkedNotes.filter(n => n.ID!=note.ID)});\r\n    }\r\n  }\r\n\r\n  onNoteListReorder(notes:INote[]){\r\n    databaseSvc.updateMany(\"notes\", notes);\r\n  }\r\n\r\n  dragulaDecorator = (componentBackingInstance) => {\r\n    if (componentBackingInstance) {\r\n      let options = { };\r\n      const drake = Dragula([componentBackingInstance], options);\r\n      drake.on('drop', (el:HTMLElement,target:HTMLElement,source,sibling)=>{\r\n        const arrayMinusDroppedItem = this.props.notes.filter(n => n.ID!=el.id);\r\n        const siblingList = Array.from(target.children);\r\n        const dropIndex = siblingList.indexOf(el);\r\n        \r\n        const previousSibling = siblingList[dropIndex-1];\r\n        const nextSibling = siblingList[dropIndex+1];\r\n\r\n        let insertIndex = null;\r\n        if(previousSibling){\r\n          insertIndex = arrayMinusDroppedItem.findIndex(n => n.ID == previousSibling.id)+1;\r\n        }else if(nextSibling){\r\n          insertIndex = arrayMinusDroppedItem.findIndex(n => n.ID == nextSibling.id);\r\n        }\r\n\r\n        if(insertIndex!=null){\r\n          arrayMinusDroppedItem.splice(insertIndex, 0, this.props.notes.find(n => n.ID==el.id));\r\n          let i = 0;\r\n          arrayMinusDroppedItem.forEach(n => {\r\n            n.Index = i;\r\n            i++;\r\n          });\r\n          this.onNoteListReorder(arrayMinusDroppedItem);\r\n        }\r\n      })\r\n    }\r\n  };\r\n\r\n  renderListItem(note:INote, index:number){\r\n    const selected = this.props.selectedNote == note;\r\n    const { checkedNotes } = this.state;\r\n    return(\r\n      <ListItem button dense divider key={note.ID} id={note.ID}\r\n        classes={({root:\"note-list-item \"+(selected? 'list-btn-primary':'')})}\r\n        onClick={e=>this.onClickNote(note)} >\r\n          <Checkbox checked={checkedNotes.includes(note)} \r\n            onChange={(e,checked)=>this.onNoteListCheck(note,checked)}\r\n            onClick={e=>e.stopPropagation()} \r\n            classes={({root:'list-chk'})}/>\r\n        <ListItemText classes={({root:'note-item-text '+(selected&&'note-item-text-selected')})} >{note.Title}</ListItemText>\r\n      </ListItem>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { loading } = this.state;\r\n    const filteredNotes = this.getFilterNotes();\r\n    let strSearch = this.state.strSearch;\r\n\r\n    if(strSearch==null){\r\n      strSearch = this.props.strSearch || \"\";\r\n    }\r\n\r\n    return (\r\n      <div className=\"note-list-component\">\r\n        <Paper classes={({root:\"actions-bar-wrapper\"})}>\r\n          <List>\r\n            <ListItem onClick={this.onClickAddNote} classes={({root:'list-btn-primary_'})} button dense>\r\n              <ListItemText classes={({root:'note-item-text'})} >CREATE NEW NOTE</ListItemText>\r\n              <ListItemIcon>\r\n                <i className=\"fas fa-plus-circle\"></i>\r\n              </ListItemIcon>              \r\n            </ListItem>\r\n            <ListItem onClick={this.onClickDeleteNotes} disabled={this.state.checkedNotes.length<1} classes={({root:'list-btn-danger_'})} button dense>\r\n              <ListItemText classes={({root:'note-item-text'})} >DELETE NOTES</ListItemText>\r\n              <ListItemIcon>\r\n                <i className=\"fas fa-trash-alt\"></i>\r\n              </ListItemIcon>              \r\n            </ListItem>            \r\n          </List>\r\n          &nbsp;\r\n        </Paper>\r\n        <Paper classes={({root:\"searchbar-paper\"})} >\r\n          <div className=\"search-input-wrapper\">\r\n            <InputBase onChange={this.onSearchChange}\r\n              value={strSearch} \r\n              classes={({root:\"search-input\"})} placeholder=\"Search..\"></InputBase>\r\n            <Icon fontSize=\"small\" classes={({root:'search-icon'})}>\r\n              <i style={({color:\"#a0a0a0\"})} className=\"fas fa-search\"></i>\r\n            </Icon>\r\n          </div>\r\n        </Paper>\r\n        <LinearProgress classes={({root:loading?\"search-progress-loading\":\"search-progress-complete\"})} \r\n          color=\"primary\">\r\n        </LinearProgress>\r\n        <div className=\"list-of-notes\">\r\n          <List>\r\n            <div ref={this.dragulaDecorator}>\r\n              {filteredNotes.map((n,index) => this.renderListItem(n,index))}\r\n            </div>\r\n          </List>\r\n        </div>     \r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state:StoreState):StoreState => ({\r\n  ...state\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  dispatch:dispatch\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NoteList)\r\n","import React, { Component, Dispatch } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport ReactQuill from 'react-quill';\r\nimport { StoreState } from '../redux/store-state';\r\nimport { Paper, TextField, Typography, Button, IconButton, Hidden, CircularProgress, Icon } from '@material-ui/core';\r\nimport { Subject } from 'rxjs';\r\nimport { IReduxAction, ReduxAction } from '../redux/redux-action.class';\r\nimport { ActionTypes } from '../redux/action-types';\r\nimport { INote } from '../models/note.interface';\r\nimport { async } from 'q';\r\nimport { databaseSvc } from '../services/database.service';\r\nimport { debounceTime } from 'rxjs/operators';\r\nimport { Delta, Sources } from 'quill';\r\n\r\ninterface Props extends StoreState{\r\n  dispatch?:<T>(action:IReduxAction<T>)=>any;\r\n}\r\n\r\ninterface State{\r\n  loading?:boolean;\r\n  title?:string;\r\n  body?:string;\r\n}\r\n\r\nclass NoteEditor extends Component<Props, State> {\r\n\r\n  constructor(p){\r\n    super(p);\r\n    this.state = {};\r\n  }\r\n\r\n  sbjChange = new Subject<{title:string,body:string}>();\r\n\r\n  currentNoteID:string = null;\r\n\r\n  componentWillMount(){\r\n    this.sbjChange.pipe(debounceTime(500))\r\n      .subscribe(async ()=>{\r\n        this.props.dispatch(new ReduxAction(ActionTypes.SET_SELECTED_NOTE, this.props.selectedNote).value);\r\n        await databaseSvc.updateItem('notes', this.props.selectedNote);\r\n        this.setState({...this.state,loading:false});\r\n      });\r\n  }\r\n\r\n  componentWillReceiveProps(a,b){\r\n    const prop = a as Props;\r\n    const upcomingNoteID = prop.selectedNote && prop.selectedNote.ID || null;\r\n    if(this.currentNoteID != upcomingNoteID){\r\n      this.setState({...this.state,title:null,body:null});\r\n    }\r\n    this.currentNoteID = prop.selectedNote && prop.selectedNote.ID || null;\r\n  }\r\n\r\n  onCloseNote = ()=>{\r\n    this.props.dispatch(new ReduxAction(ActionTypes.SET_SELECTED_NOTE, null).value);\r\n  }\r\n\r\n  onDeleteNote = async (noteToDelete:INote)=>{\r\n    await databaseSvc.removeItem('notes',noteToDelete);\r\n    const newNoteList = this.props.notes.filter(n => n.ID!=noteToDelete.ID);\r\n    this.props.dispatch(new ReduxAction(ActionTypes.SET_NOTE_LIST, newNoteList).value);\r\n    this.onCloseNote();\r\n  }\r\n\r\n  onTitleChange(title:string){\r\n    const note = this.props.selectedNote;\r\n    note.Title = title;\r\n    this.sbjChange.next({title:this.state.title, body:this.state.body});\r\n    this.setState({...this.state,loading:true,title:title});\r\n  }\r\n\r\n  onBodyChange(body:string,delta:Delta,source:Sources){\r\n    if(source!=\"user\"){\r\n      return;\r\n    }\r\n\r\n    const note = this.props.selectedNote;\r\n    note.Body = body;\r\n    this.sbjChange.next({title:this.state.title, body:this.state.body});\r\n    this.setState({...this.state,loading:true,body:body});\r\n  }\r\n\r\n  render() {\r\n    const { selectedNote } = this.props;\r\n    let { title,body } = this.state;\r\n    if(title==null){\r\n      title = selectedNote && selectedNote.Title || \"\";\r\n    }    \r\n\r\n    if(body==null){\r\n      body = selectedNote && selectedNote.Body || \"\";\r\n    }    \r\n\r\n    return (\r\n      <div className={\"note-editor-component\"}>\r\n        <div className={\"empty-editor-wrapper \"+(selectedNote && \"hidden\")}>\r\n          <div className={\"empty-editor-paper\"}>\r\n            <div>\r\n              <Icon>\r\n                <i className=\"backdrop-icon fas fa-book\"></i>\r\n              </Icon>\r\n            </div>\r\n          </div>        \r\n        </div> \r\n        <Paper classes={({root:(!selectedNote && \"hidden\")})} square>\r\n          <div className=\"title-wraper\">\r\n            <TextField id=\"txt-note-title\" \r\n              label=\"Title\" \r\n              onChange={e=>this.onTitleChange(e.target.value)} \r\n              classes={({root:'txt-title'})} \r\n              disabled={!selectedNote} \r\n              value={title}></TextField>\r\n            <IconButton disabled={!selectedNote} onClick={this.onCloseNote} color=\"default\">\r\n              <i style={({fontSize:'20px'})} className=\"fas fa-times-circle\"></i>\r\n            </IconButton>\r\n            <CircularProgress color=\"secondary\" className={\"editor-save-progress \"+(!this.state.loading && \"hidden\")} />\r\n          </div>\r\n        </Paper>\r\n        <Paper classes={({root:\"quill-paper-wrapper \"+(!selectedNote && \"hidden\")})} square >\r\n          <ReactQuill onChange={(e,delta,source)=>this.onBodyChange(e,delta,source)} \r\n            readOnly={!selectedNote} \r\n            value={body} \r\n            placeholder=\"write your notes :)\" theme=\"snow\" />\r\n        </Paper>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  ...state\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({dispatch})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NoteEditor)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { Toolbar, IconButton, Typography, Button, AppBar, Hidden, withWidth, Drawer, Grid, Tooltip } from '@material-ui/core';\r\nimport { Dispatch } from 'redux';\r\nimport { StoreState } from '../redux/store-state';\r\nimport { IReduxAction, ReduxAction } from '../redux/redux-action.class';\r\nimport { Breakpoint } from '@material-ui/core/styles/createBreakpoints';\r\nimport authSvc from '../services/auth.service';\r\nimport { ActionTypes } from '../redux/action-types';\r\nimport NoteList from './NoteList';\r\nimport { INote } from '../models/note.interface';\r\nimport NoteEditor from './NoteEditor';\r\n\r\ninterface LayoutProps extends StoreState{\r\n  dispatch?:<T>(action:IReduxAction<T>)=>any,\r\n  width?:Breakpoint\r\n}\r\n\r\ninterface LayoutState {\r\n  drawerOpen?:boolean\r\n}\r\n\r\nclass Layout extends Component<LayoutProps, LayoutState> {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      drawerOpen:false\r\n    }\r\n  }\r\n\r\n  toggleDrawer = (isOpen:boolean = null)=>{\r\n    if(isOpen==null){\r\n      isOpen = !this.state.drawerOpen;\r\n    }\r\n\r\n    this.setState({...this.state,drawerOpen:isOpen});\r\n  }\r\n\r\n  isMobile(){\r\n    return this.props.width==\"xs\" || this.props.width==\"sm\";\r\n  }\r\n\r\n  logout = async()=>{\r\n    await authSvc.logOut();\r\n    this.props.dispatch(new ReduxAction(ActionTypes.SET_USER, null).value);\r\n  }\r\n\r\n  onSelectNote = (note:INote)=>{\r\n    this.props.dispatch(new ReduxAction(ActionTypes.SET_SELECTED_NOTE, note).value);\r\n    this.toggleDrawer(false);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={`layout-component ${(this.state.drawerOpen || !this.isMobile()) && \"drawer-open\"}`}>\r\n        <nav>\r\n          <Drawer anchor=\"left\" variant={this.isMobile()? \"temporary\":\"permanent\"} onClose={()=>this.toggleDrawer(false)} open={this.state.drawerOpen} classes={({paper:\"drawer-paper\"})} >\r\n            <NoteList onSelectNote={this.onSelectNote} ></NoteList>\r\n          </Drawer>\r\n        </nav>      \r\n        <AppBar color=\"primary\" position=\"relative\">\r\n          <Toolbar>\r\n            <Hidden only={[\"md\",\"lg\",\"xl\"]} >\r\n              <IconButton onClick={()=>this.toggleDrawer()} >\r\n                <i className=\"fas fa-bars\"></i>\r\n              </IconButton>   \r\n            </Hidden>\r\n            <Typography variant=\"h6\" color=\"inherit\">\r\n              {this.props.user.email}  \r\n            </Typography>\r\n            <Tooltip title=\"Sign Out\" placement=\"left\" >\r\n              <IconButton onClick={this.logout} classes={({root:\"btn-logout\"})} >\r\n                <i style={({fontSize:\"20px\"})} className=\"fas fa-power-off\"></i>\r\n              </IconButton>\r\n            </Tooltip>            \r\n          </Toolbar>\r\n        </AppBar>\r\n        <div className=\"layout-content\">\r\n          <NoteEditor></NoteEditor>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state:StoreState):StoreState => ({\r\n    user:state.user\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch:Dispatch) => {\r\n  return {\r\n    dispatch:dispatch\r\n  } as LayoutProps;\r\n}\r\n\r\nconst connected = connect(mapStateToProps, mapDispatchToProps)(Layout);\r\nconst withWidthConnected = withWidth()(connected);\r\nexport default withWidthConnected;\r\n","import React, { Component, Dispatch } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { StoreState } from '../redux/store-state';\r\nimport { ReduxAction, IReduxAction } from '../redux/redux-action.class';\r\nimport firebase from 'firebase';\r\nimport { ActionTypes } from '../redux/action-types';\r\nimport firebaseSvc from '../services/firebase.service';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Login from './Login';\r\nimport Layout from './Layout';\r\nimport { databaseSvc } from '../services/database.service';\r\nimport { INote } from '../models/note.interface';\r\n\r\ninterface AuthProtectorProps extends StoreState {\r\n  dispatch?:(action:IReduxAction<any>)=>any\r\n}\r\n\r\ninterface AuthProtectorState {\r\n  loading?: boolean;\r\n}\r\n\r\nclass AuthProtector extends Component<AuthProtectorProps, AuthProtectorState> {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: true\r\n    };\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.checkAuth();\r\n  }\r\n\r\n  async checkAuth(){\r\n    this.setState({...this.state,loading:true});\r\n    firebaseSvc.auth().onAuthStateChanged(user => {\r\n      this.props.dispatch(new ReduxAction(ActionTypes.SET_USER, user).value);\r\n      this.setState({...this.state,loading:false});\r\n      if(user){\r\n        this.loadNotes();\r\n      }      \r\n    });\r\n  }\r\n\r\n  async loadNotes(){\r\n    const notes = await databaseSvc.getCollection<INote>(\"notes\", (qry)=>qry.where(\"UID\",\"==\",this.props.user.uid));\r\n    this.props.dispatch(new ReduxAction(ActionTypes.SET_NOTE_LIST, notes).value);\r\n  }  \r\n\r\n  render() {\r\n    if (this.state.loading) {\r\n      return (\r\n        <div className=\"giant-progress-container-wrapper\">\r\n          <div className=\"giant-progress-container\">\r\n            <CircularProgress\r\n              variant=\"indeterminate\"\r\n              size={200}\r\n              value={50}\r\n              color=\"primary\"\r\n            />\r\n          </div>\r\n        </div>\r\n      );\r\n    } else if (this.props.user == null) {\r\n      return (\r\n        <div className=\"flex-hbox login-wrapper\">\r\n          <Login></Login>\r\n\t\t\t\t</div>\r\n      );\r\n    } else {\r\n      return (\r\n        <Layout></Layout>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: StoreState): AuthProtectorProps => ({\r\n  user: state.user\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch:Dispatch<any>):AuthProtectorProps => {\r\n  return {\r\n    dispatch:dispatch\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AuthProtector)\r\n","import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport '../stylesheets/App.scss';\nimport 'react-quill/dist/quill.snow.css';\nimport 'react-quill/dist/quill.core.css';\nimport 'react-dragula/dist/dragula.min.css';\nimport '@material-ui/core'\nimport firebase from 'firebase';\nimport { Button, CssBaseline } from '@material-ui/core';\nimport { createMuiTheme, MuiThemeProvider } from '@material-ui/core/styles';\nimport AuthProtector from './AuthProtector';\n\nconst theme = createMuiTheme({\n  palette:{\n    type: 'dark',\n    primary:{\n      main:'#673ab7'\n    },\n    secondary: {\n      main: '#00e5ff',\n    }\n  }\n});\n\ninterface AppProps{\n\n}\n\nclass App extends Component<AppProps> {\n  constructor(props){\n    super(props);\n\n  }\n\n  render() {\n    return (\n      <MuiThemeProvider theme={theme}>\n          <CssBaseline/>\n          <AuthProtector></AuthProtector>\n      </MuiThemeProvider>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { Provider } from 'react-redux';\r\nimport { store } from './redux/store';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>, \r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}