(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{304:function(e,t,n){e.exports=n(607)},309:function(e,t,n){},314:function(e,t,n){},607:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(21),c=n.n(o);n(309),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s,i=n(30),l=n(60),u=n(62);!function(e){e.SET_USER="SET_USER",e.SET_ACTIVE_NOTE="SET_ACTIVE_NOTE",e.SET_NOTE_LIST="SET_NOTE_LIST",e.SET_FILTERED_NOTE_LIST="SET_FILTERED_NOTE_LIST",e.SET_SEARCH_QUERY="SET_SEARCH_QUERY",e.SET_SELECTED_NOTE="SET_SELECTED_NOTE",e.SET_SEARCHINPUT_FOCUS_STATE="SET_SEARCHINPUT_FOCUS_STATE"}(s||(s={}));var p=Object(l.b)({user:function(e,t){switch(t.type){case s.SET_USER:return t.data;default:return e||null}},notes:function(e,t){switch(t.type){case s.SET_NOTE_LIST:return Object(u.a)(t.data);default:return e||[]}},strSearch:function(e,t){switch(t.type){case s.SET_SEARCH_QUERY:return t.data;default:return e||""}},filteredNotes:function(e,t){var n=[];switch(t.type){case s.SET_FILTERED_NOTE_LIST:t.data&&(n=Object(u.a)(t.data));break;default:e&&(n=Object(u.a)(e))}return n.sort(function(e,t){return e.Title.toLowerCase().localeCompare(t.Title.toLowerCase())})},selectedNote:function(e,t){switch(t.type){case s.SET_SELECTED_NOTE:return t.data;default:return e||null}}}),h=Object(l.c)(p,{}),E=n(19),d=n(20),f=n(31),m=n(29),b=n(32),v=(n(314),n(315),n(316),n(7)),O=n(26),T=n(18),S=n.n(T),g=n(23),w=n(27),j=function(){function e(t,n){Object(E.a)(this,e),this.type=null,this.data=null,this.type=t,this.data=n}return Object(d.a)(e,[{key:"value",get:function(){return{type:this.type,data:this.data}}}]),e}(),N=n(115),_=n.n(N),C=_.a.initializeApp({apiKey:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_APIKEY,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_AUTHDOMAIN,projectId:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_PROJECTID}),y=n(112),k=n.n(y),I=new(function(){function e(){Object(E.a)(this,e),this.auth=void 0,this.googleAuthProvider=null,this.auth=C.auth(),this.googleAuthProvider=new _.a.auth.GoogleAuthProvider}return Object(d.a)(e,[{key:"loginWithGoogle",value:function(){return this.auth.signInWithRedirect(this.googleAuthProvider)}},{key:"logOut",value:function(){return this.auth.signOut()}}]),e}()),D=function(e){function t(e){return Object(E.a)(this,t),Object(f.a)(this,Object(m.a)(t).call(this,e))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"loginWith",value:function(e){switch(e){case"google":I.loginWithGoogle()}}},{key:"render",value:function(){var e=this;return r.a.createElement(v.d,{open:!0,fullScreen:!1},r.a.createElement(v.g,null,"Login"),r.a.createElement(v.e,null,r.a.createElement(v.f,null,r.a.createElement(v.n,{component:"nav"},r.a.createElement(v.o,{button:!0,onClick:function(t){return e.loginWith("google")}},r.a.createElement(v.p,null,r.a.createElement("i",{className:"fab fa-google"})),r.a.createElement(v.q,null,"Sign in with Google")),r.a.createElement(v.u,{title:"Not supported"},r.a.createElement(v.o,{button:!0},r.a.createElement(v.p,null,r.a.createElement("i",{className:"fab fa-facebook"})),r.a.createElement(v.q,null,r.a.createElement("del",null,"Login with Facebook"))))))))}}]),t}(a.Component),L=Object(i.b)(function(e){return{user:e.user}},function(e){return{dispatch:e}})(D),x=new(function(){function e(){Object(E.a)(this,e),this.firestore=C.firestore()}return Object(d.a)(e,[{key:"getCollection",value:function(){var e=Object(w.a)(S.a.mark(function e(t){var n,a,r,o,c=arguments;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:null,a=this.firestore.collection(t),n&&(a=n(a)),e.next=5,a.get();case 5:return r=e.sent,o=[],r.forEach(function(e){var t=e.data();t.ID=e.id,o.push(t)}),o.sort(function(e,t){return e.ID.localeCompare(t.ID)}),e.abrupt("return",o);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addToCollection",value:function(){var e=Object(w.a)(S.a.mark(function e(t,n){var a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.firestore.collection(t).add(n);case 2:return a=e.sent,n.ID=a.id,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateItem",value:function(e,t){return this.firestore.collection(e).doc(t.ID).update(t)}},{key:"removeItem",value:function(e,t){return this.firestore.collection(e).doc(t.ID).delete()}}]),e}()),A=n(608),R=n(609),U=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(f.a)(this,Object(m.a)(t).call(this,e))).sbjSearch=new A.a,n.onSearchChange=function(e){n.setState(Object(g.a)({},n.state,{loading:!0,strSearch:e.target.value})),n.sbjSearch.next({})},n.onClickNote=function(e){n.props.onSelectNote&&n.props.onSelectNote(e)},n.onClickAddNote=Object(w.a)(S.a.mark(function e(){var t,a,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="NEW_NOTE_"+(new Date).getTime().toString(),a={Body:"",Title:t,UID:n.props.user.uid},e.next=4,x.addToCollection("notes",a);case 4:r=[].concat(Object(u.a)(n.props.notes),[a]),n.props.dispatch(new j(s.SET_NOTE_LIST,r).value),n.props.dispatch(new j(s.SET_SELECTED_NOTE,a).value),setTimeout(function(){var e=document.querySelector("#txt-note-title");e.focus(),e.select()},100);case 8:case"end":return e.stop()}},e)})),n.state={strSearch:null},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.sbjSearch.pipe(Object(R.a)(500)).subscribe(function(){e.setState(Object(g.a)({},e.state,{loading:!1})),e.props.dispatch(new j(s.SET_SEARCH_QUERY,e.state.strSearch).value)})}},{key:"getFilterNotes",value:function(){var e=this.props&&this.props.selectedNote&&this.props.selectedNote.ID||"",t=(this.props.strSearch||"").toLowerCase();return(this.props.notes||[]).filter(function(n){return n.Body.toLowerCase().includes(t)||n.Title.toLocaleLowerCase().includes(t)||n.ID==e})}},{key:"renderListItem",value:function(e,t){var n=this,a=this.props.selectedNote==e;return r.a.createElement(v.o,{button:!0,dense:!0,divider:!0,key:e.ID,classes:{root:a?"list-item-note-selected":"list-item-note"},onClick:function(t){return n.onClickNote(e)}},r.a.createElement(v.q,{classes:{root:"note-item-text "+(a&&"note-item-text-selected")}},e.Title))}},{key:"render",value:function(){var e=this,t=this.state.loading,n=this.getFilterNotes(),a=this.state.strSearch;return null==a&&(a=this.props.strSearch||""),r.a.createElement("div",{className:"note-list-component"},r.a.createElement("div",{className:"actions-bar-wrapper"},r.a.createElement("br",null)),r.a.createElement(v.r,{classes:{root:"searchbar-paper"}},r.a.createElement("div",{className:"search-input-wrapper"},r.a.createElement(v.l,{onChange:this.onSearchChange,value:a,classes:{root:"search-input"},placeholder:"Search.."}),r.a.createElement(v.j,{fontSize:"small",classes:{root:"search-icon"}},r.a.createElement("i",{style:{color:"#a0a0a0"},className:"fas fa-search"})))),r.a.createElement(v.m,{classes:{root:t?"search-progress-loading":"search-progress-complete"},color:"primary"}),r.a.createElement("div",{className:"list-of-notes"},r.a.createElement(v.n,null,r.a.createElement(v.o,{onClick:this.onClickAddNote,classes:{root:"add-note-btn"},button:!0,dense:!0,divider:!0},r.a.createElement(v.q,{classes:{root:"note-item-text"}},"ADD NOTE"),r.a.createElement(v.p,null,r.a.createElement("i",{className:"fas fa-plus-circle"}))),n.map(function(t,n){return e.renderListItem(t,n)}))))}}]),t}(a.Component),P=Object(i.b)(function(e){return Object(g.a)({},e)},function(e){return{dispatch:e}})(U),B=n(238),M=n.n(B),W=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(f.a)(this,Object(m.a)(t).call(this,e))).sbjChange=new A.a,n.onCloseNote=function(){n.props.dispatch(new j(s.SET_SELECTED_NOTE,null).value)},n.onDeleteNote=function(){var e=Object(w.a)(S.a.mark(function e(t){var a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.removeItem("notes",t);case 2:a=n.props.notes.filter(function(e){return e.ID!=t.ID}),n.props.dispatch(new j(s.SET_NOTE_LIST,a).value),n.onCloseNote();case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.state={},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.sbjChange.pipe(Object(R.a)(500)).subscribe(Object(w.a)(S.a.mark(function t(){return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.updateItem("notes",e.props.selectedNote);case 2:e.setState(Object(g.a)({},e.state,{loading:!1}));case 3:case"end":return t.stop()}},t)})))}},{key:"onTitleChange",value:function(e){var t=this.props.selectedNote;t.Title=e,this.props.dispatch(new j(s.SET_SELECTED_NOTE,t).value),this.sbjChange.next(),this.setState(Object(g.a)({},this.state,{loading:!0}))}},{key:"onBodyChange",value:function(e,t,n){if("user"==n){var a=this.props.selectedNote;a.Body=e,this.props.dispatch(new j(s.SET_SELECTED_NOTE,a).value),this.sbjChange.next(),this.setState(Object(g.a)({},this.state,{loading:!0}))}}},{key:"render",value:function(){var e=this,t=this.props.selectedNote;return r.a.createElement("div",{className:"note-editor-component"},r.a.createElement(v.r,{square:!0},r.a.createElement("div",{className:"title-wraper"},r.a.createElement(v.s,{id:"txt-note-title",onChange:function(t){return e.onTitleChange(t.target.value)},classes:{root:"txt-title"},disabled:!t,label:"Title",value:t?t.Title:""}),r.a.createElement(v.k,{disabled:!t,onClick:this.onCloseNote,color:"default"},r.a.createElement("i",{style:{fontSize:"20px"},className:"fas fa-times-circle"})),r.a.createElement(v.b,{className:"editor-save-progress "+(!this.state.loading&&"hidden")}))),r.a.createElement(v.r,{classes:{root:"quill-paper-wrapper"},square:!0},r.a.createElement(M.a,{onChange:function(t,n,a){return e.onBodyChange(t,n,a)},readOnly:!t,value:t?t.Body:"",placeholder:"write your notes :)",theme:"snow"}),r.a.createElement(v.k,{onClick:function(t){return e.onDeleteNote(e.props.selectedNote)},classes:{root:"delete-btn "+(!t&&"hidden")}},r.a.createElement("i",{style:{fontSize:"20px"},className:"fas fa-trash-alt"}))))}}]),t}(a.Component),q=Object(i.b)(function(e){return Object(g.a)({},e)},function(e){return{dispatch:e}})(W),F=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(f.a)(this,Object(m.a)(t).call(this,e))).toggleDrawer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==e&&(e=!n.state.drawerOpen),n.setState(Object(g.a)({},n.state,{drawerOpen:e}))},n.logout=Object(w.a)(S.a.mark(function e(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.logOut();case 2:n.props.dispatch(new j(s.SET_USER,null).value);case 3:case"end":return e.stop()}},e)})),n.onSelectNote=function(e){n.props.dispatch(new j(s.SET_SELECTED_NOTE,e).value),n.toggleDrawer(!1)},n.state={drawerOpen:!1},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"isMobile",value:function(){return"xs"==this.props.width||"sm"==this.props.width}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"layout-component ".concat((this.state.drawerOpen||!this.isMobile())&&"drawer-open")},r.a.createElement("nav",null,r.a.createElement(v.h,{anchor:"left",variant:this.isMobile()?"temporary":"permanent",onClose:function(){return e.toggleDrawer(!1)},open:this.state.drawerOpen,classes:{paper:"drawer-paper"}},r.a.createElement(P,{onSelectNote:this.onSelectNote}))),r.a.createElement(v.a,{color:"primary",position:"relative"},r.a.createElement(v.t,null,r.a.createElement(v.i,{only:["md","lg","xl"]},r.a.createElement(v.k,{onClick:function(){return e.toggleDrawer()}},r.a.createElement("i",{className:"fas fa-bars"}))),r.a.createElement(v.v,{variant:"h6",color:"inherit"},this.props.user.email),r.a.createElement(v.u,{title:"Sign Out",placement:"left"},r.a.createElement(v.k,{onClick:this.logout,classes:{root:"btn-logout"}},r.a.createElement("i",{style:{fontSize:"20px"},className:"fas fa-power-off"}))))),r.a.createElement("div",{className:"layout-content"},r.a.createElement(q,null)))}}]),t}(a.Component),H=Object(i.b)(function(e){return{user:e.user}},function(e){return{dispatch:e}})(F),z=Object(v.w)()(H),V=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(f.a)(this,Object(m.a)(t).call(this,e))).state={loading:!0},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.checkAuth()}},{key:"checkAuth",value:function(){var e=Object(w.a)(S.a.mark(function e(){var t=this;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState(Object(g.a)({},this.state,{loading:!0})),C.auth().onAuthStateChanged(function(e){t.props.dispatch(new j(s.SET_USER,e).value),t.setState(Object(g.a)({},t.state,{loading:!1})),e&&t.loadNotes()});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"loadNotes",value:function(){var e=Object(w.a)(S.a.mark(function e(){var t,n=this;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getCollection("notes",function(e){return e.where("UID","==",n.props.user.uid)});case 2:t=e.sent,this.props.dispatch(new j(s.SET_NOTE_LIST,t).value);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?r.a.createElement("div",{className:"giant-progress-container-wrapper"},r.a.createElement("div",{className:"giant-progress-container"},r.a.createElement(k.a,{variant:"indeterminate",size:200,value:50,color:"primary"}))):null==this.props.user?r.a.createElement("div",{className:"flex-hbox login-wrapper"},r.a.createElement(L,null)):r.a.createElement(z,null)}}]),t}(a.Component),Y=Object(i.b)(function(e){return{user:e.user}},function(e){return{dispatch:e}})(V),G=Object(O.createMuiTheme)({palette:{type:"dark",primary:{main:"#673ab7"},secondary:{main:"#00e5ff"}}}),Q=function(e){function t(e){return Object(E.a)(this,t),Object(f.a)(this,Object(m.a)(t).call(this,e))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(O.MuiThemeProvider,{theme:G},r.a.createElement(v.c,null),r.a.createElement(Y,null))}}]),t}(a.Component);c.a.render(r.a.createElement(i.a,{store:h},r.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[304,1,2]]]);
//# sourceMappingURL=main.396de2ba.chunk.js.map