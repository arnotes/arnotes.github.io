{"version":3,"sources":["serviceWorker.ts","redux/action-types.ts","redux/reducers.ts","redux/store.ts","redux/redux-action.class.ts","services/firebase.service.ts","services/auth.service.ts","components/Login.tsx","services/database.service.ts","components/NoteList.tsx","components/NoteEditor.tsx","components/Layout.tsx","components/AuthProtector.tsx","components/App.tsx","index.tsx"],"names":["Boolean","window","location","hostname","match","ActionTypes","combinedReducers","combineReducers","user","userState","action","type","SET_USER","data","notes","SET_NOTE_LIST","Object","toConsumableArray","strSearch","str","SET_SEARCH_QUERY","filteredNotes","returnVal","SET_FILTERED_NOTE_LIST","sort","a","b","Title","toLowerCase","localeCompare","selectedNote","note","SET_SELECTED_NOTE","store","createStore","ReduxAction","classCallCheck","this","createClass","key","get","firebaseSvc","firebase","initializeApp","apiKey","process","authDomain","projectId","authSvc","AuthService","auth","googleAuthProvider","GoogleAuthProvider","signInWithRedirect","signOut","Login","props","possibleConstructorReturn","getPrototypeOf","call","loginType","loginWithGoogle","_this","react_default","createElement","index_es","open","fullScreen","component","button","onClick","e","loginWith","className","title","Component","connected","connect","state","dispatch","databaseSvc","firestore","collectionPath","qry","coll","collection","snapshot","items","forEach","doc","docData","ID","id","push","item","add","docRef","update","delete","NoteList","p","sbjSearch","Subject","onSearchChange","setState","objectSpread","loading","target","value","next","onClickNote","onSelectNote","onClickAddNote","asyncToGenerator","regenerator_default","mark","_callee","dummyTitle","newNote","newNoteList","wrap","_context","prev","Date","getTime","toString","Body","UID","uid","addToCollection","concat","setTimeout","titleInput","document","querySelector","focus","select","stop","_this2","pipe","debounceTime","subscribe","selectedNoteID","searchToLower","filter","n","includes","toLocaleLowerCase","index","_this3","selected","dense","divider","classes","root","_this4","getFilterNotes","onChange","placeholder","fontSize","style","color","map","renderListItem","NoteEditor","sbjChange","onCloseNote","onDeleteNote","_ref","noteToDelete","removeItem","_x","apply","arguments","_callee2","_context2","updateItem","body","delta","source","square","onTitleChange","disabled","label","lib_default","onBodyChange","readOnly","theme","Layout","toggleDrawer","isOpen","length","undefined","drawerOpen","logout","logOut","width","isMobile","anchor","variant","onClose","paper","components_NoteList","position","only","email","placement","components_NoteEditor","withWidthConnected","withWidth","AuthProtector","checkAuth","onAuthStateChanged","loadNotes","getCollection","where","CircularProgress_default","size","components_Login","components_Layout","createMuiTheme","palette","primary","main","secondary","App","styles","components_AuthProtector","ReactDOM","render","es","components_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.02193578.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export enum ActionTypes {\r\n  SET_USER = 'SET_USER',\r\n  SET_ACTIVE_NOTE = 'SET_ACTIVE_NOTE',\r\n  SET_NOTE_LIST = 'SET_NOTE_LIST',\r\n  SET_FILTERED_NOTE_LIST = 'SET_FILTERED_NOTE_LIST',\r\n  SET_SEARCH_QUERY = 'SET_SEARCH_QUERY',\r\n  SET_SELECTED_NOTE = 'SET_SELECTED_NOTE',\r\n  SET_SEARCHINPUT_FOCUS_STATE = 'SET_SEARCHINPUT_FOCUS_STATE'\r\n}","import { ReduxAction, IReduxAction } from \"./redux-action.class\";\r\nimport { ActionTypes } from \"./action-types\";\r\nimport { combineReducers } from \"redux\";\r\nimport { INote } from \"../models/note.interface\";\r\nimport { StoreState } from \"./store-state\";\r\n\r\nfunction user(userState:firebase.User, action:IReduxAction<firebase.User>) {\r\n  switch (action.type) {\r\n    case ActionTypes.SET_USER:\r\n      return action.data as firebase.User;\r\n      break;\r\n  \r\n    default:\r\n      return userState || null;\r\n      break;\r\n  }\r\n}\r\n\r\nfunction notes(notes:INote[], action:IReduxAction<INote[]>){\r\n  switch (action.type) {\r\n    case ActionTypes.SET_NOTE_LIST:\r\n      return [...action.data];\r\n      break;\r\n  \r\n    default:\r\n      return notes||[];\r\n      break;\r\n  }\r\n}\r\n\r\nfunction filteredNotes(notes:INote[], action:IReduxAction<INote[]>){\r\n  let returnVal:INote[] = [];\r\n  switch (action.type) {\r\n    case ActionTypes.SET_FILTERED_NOTE_LIST:\r\n      if(action.data){\r\n        returnVal = [...action.data];\r\n      }\r\n      break;\r\n  \r\n    default:\r\n      if(notes){\r\n        returnVal = [...notes];\r\n      }\r\n      break;\r\n  }\r\n\r\n  return returnVal.sort((a,b)=>a.Title.toLowerCase().localeCompare(b.Title.toLowerCase()));\r\n}\r\n\r\nfunction strSearch(str:string, action:IReduxAction<string>){\r\n  switch (action.type) {\r\n    case ActionTypes.SET_SEARCH_QUERY:\r\n      return action.data;\r\n      break;\r\n  \r\n    default:\r\n      return str||\"\";\r\n      break;\r\n  }\r\n}\r\n\r\nfunction selectedNote(note:INote, action:IReduxAction<INote>){\r\n  switch (action.type) {\r\n    case ActionTypes.SET_SELECTED_NOTE:\r\n      return action.data;\r\n      break;\r\n  \r\n    default:\r\n      return note||null;\r\n      break;\r\n  }\r\n}\r\n\r\nexport const combinedReducers = combineReducers({\r\n  user,\r\n  notes:notes,\r\n  strSearch:strSearch,\r\n  filteredNotes:filteredNotes,\r\n  selectedNote:selectedNote\r\n});","import { createStore } from 'redux';\r\nimport { combinedReducers } from './reducers';\r\n\r\nexport const store = createStore(combinedReducers, {});","export interface IReduxAction<T> {\r\n    type: string;\r\n    data: T;\r\n}\r\n\r\nexport class ReduxAction<T> implements IReduxAction<T>{\r\n    constructor(type:string, data:T){\r\n        this.type = type;\r\n        this.data = data;\r\n    }\r\n\r\n    get value ():IReduxAction<T> {\r\n       return {\r\n           type: this.type,\r\n           data: this.data\r\n       }\r\n    }\r\n\r\n    type:string = null;\r\n    data:T = null;\r\n}","import firebase from 'firebase';\r\nconst firebaseSvc = firebase.initializeApp({\r\n    apiKey: process.env.REACT_APP_APIKEY,\r\n        authDomain: process.env.REACT_APP_AUTHDOMAIN,\r\n        projectId: process.env.REACT_APP_PROJECTID\r\n});\r\n\r\nexport default firebaseSvc;","import firebaseSvc from \"./firebase.service\";\r\nimport firebase from \"firebase\";\r\n\r\nclass AuthService{\r\n    constructor(){\r\n        this.auth = firebaseSvc.auth();\r\n        this.googleAuthProvider = new firebase.auth.GoogleAuthProvider();\r\n    }\r\n\r\n    private auth:firebase.auth.Auth;\r\n\r\n    loginWithGoogle(){\r\n        return this.auth.signInWithRedirect(this.googleAuthProvider);\r\n    }\r\n\r\n    logOut(){\r\n        return this.auth.signOut();\r\n    }\r\n\r\n    googleAuthProvider:firebase.auth.GoogleAuthProvider = null;\r\n}\r\n\r\nconst authSvc = new AuthService();\r\nexport default authSvc;","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { StoreState } from '../redux/store-state';\r\nimport { Dispatch } from 'redux';\r\nimport { Card, CardHeader, CardContent, Typography, Button, Dialog, DialogTitle, DialogContent, DialogContentText, List, ListItem, ListItemText, ListItemIcon, Icon, Tooltip } from '@material-ui/core';\r\nimport { IReduxAction } from '../redux/redux-action.class';\r\nimport withMobileDialog from '@material-ui/core/withMobileDialog';\r\nimport authSvc from '../services/auth.service';\r\n\r\ninterface LoginProps extends StoreState{\r\n    dispatch?:<T>(action:IReduxAction<T>)=>void,\r\n    fullScreen?:boolean\r\n}\r\n\r\nclass Login extends Component<LoginProps> {\r\n  \r\n  constructor(props){\r\n    super(props);\r\n  }\r\n\r\n  loginWith(loginType:\"google\"|\"facebook\"){\r\n    switch (loginType) {\r\n      case \"google\":\r\n        authSvc.loginWithGoogle();\r\n        break;\r\n    \r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Dialog open={true} fullScreen={false} >\r\n        <DialogTitle >\r\n          Login\r\n            </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            <List component=\"nav\">\r\n              <ListItem button onClick={e => this.loginWith(\"google\")}>\r\n                <ListItemIcon><i className=\"fab fa-google\"></i></ListItemIcon>\r\n                <ListItemText>Sign in with Google</ListItemText>\r\n              </ListItem>\r\n              <Tooltip title=\"Not supported\">\r\n                <ListItem button >\r\n                  <ListItemIcon><i className=\"fab fa-facebook\"></i></ListItemIcon>\r\n                  <ListItemText><del>Login with Facebook</del></ListItemText>\r\n                </ListItem>\r\n              </Tooltip>\r\n            </List>\r\n          </DialogContentText>\r\n        </DialogContent>\r\n      </Dialog>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state:StoreState):LoginProps => ({\r\n  user:state.user\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch:Dispatch<any>):LoginProps => {\r\n  return {\r\n    dispatch:dispatch\r\n  }\r\n}\r\n\r\nconst connected = connect(mapStateToProps, mapDispatchToProps)(Login);\r\nexport default connected;\r\n","import firebaseSvc from \"./firebase.service\";\r\n\r\nclass FireStoreDatabase {\r\n\r\n  async getCollection<T>(collectionPath: string, qry: (collection: firebase.firestore.Query) => firebase.firestore.Query = null) {\r\n\r\n    let coll = this.firestore.collection(collectionPath) as firebase.firestore.Query;\r\n    if (qry) {\r\n      coll = qry(coll);\r\n    }\r\n\r\n    const snapshot = await coll.get();\r\n    let items: T[] = [];\r\n    snapshot.forEach(doc => {\r\n      let docData: any = doc.data();\r\n      docData.ID = doc.id;\r\n      items.push(docData);\r\n    });\r\n    (items as any[]).sort((a, b) => a.ID.localeCompare(b.ID));\r\n    return items;\r\n  }\r\n\r\n  async addToCollection<T>(collectionPath: string, item: T) {\r\n    const docRef = await this.firestore\r\n      .collection(collectionPath)\r\n      .add(item);\r\n    item['ID'] = docRef.id;\r\n    return item;\r\n  }\r\n\r\n  updateItem<T>(collectionPath: string, item: T) {\r\n    return this.firestore\r\n      .collection(collectionPath)\r\n      .doc(item['ID'])\r\n      .update(item);\r\n  }\r\n\r\n  removeItem<T>(collectionPath: string, item: T) {\r\n    return this.firestore\r\n      .collection(collectionPath)\r\n      .doc(item['ID'])\r\n      .delete();\r\n  }\r\n\r\n  firestore = firebaseSvc.firestore();\r\n}\r\n\r\nexport const databaseSvc = new FireStoreDatabase();","import React, { Component, Dispatch } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { StoreState } from '../redux/store-state';\r\nimport { IReduxAction, ReduxAction } from '../redux/redux-action.class';\r\nimport { databaseSvc } from '../services/database.service';\r\nimport { INote } from '../models/note.interface';\r\nimport { Paper, InputBase, Icon, LinearProgress, List, ListItem, ListItemText, ButtonBase, Button, Divider, ListItemIcon } from '@material-ui/core';\r\nimport color from '@material-ui/core/colors/lime';\r\nimport { ActionTypes } from '../redux/action-types';\r\nimport { Subject } from 'rxjs';\r\nimport { debounceTime } from 'rxjs/operators';\r\n\r\ninterface Props extends StoreState{\r\n  notes?:INote[];\r\n  dispatch?:Dispatch<IReduxAction<any>>;\r\n  onSelectNote?:(note:INote)=>any\r\n  onAddNote?:(note:INote)=>any\r\n}\r\n\r\ninterface State{\r\n  loading?:boolean;\r\n  strSearch?:string;\r\n}\r\n\r\nclass NoteList extends Component<Props,State> {\r\n  constructor(p){\r\n    super(p);\r\n    this.state = {\r\n      strSearch:null\r\n    };\r\n  }\r\n\r\n  sbjSearch = new Subject();\r\n\r\n  componentDidMount(){\r\n    this.sbjSearch\r\n      .pipe(debounceTime(500))\r\n      .subscribe(()=>{\r\n        this.setState({...this.state,loading:false});\r\n        this.props.dispatch(new ReduxAction(ActionTypes.SET_SEARCH_QUERY, this.state.strSearch).value);\r\n      });\r\n  }\r\n\r\n  getFilterNotes(){\r\n    const selectedNoteID = this.props && this.props.selectedNote && this.props.selectedNote.ID || \"\";\r\n    const searchToLower = (this.props.strSearch||\"\").toLowerCase();\r\n    const filtered = (this.props.notes||[])\r\n                          .filter(n => \r\n                                    n.Body.toLowerCase().includes(searchToLower) ||\r\n                                    n.Title.toLocaleLowerCase().includes(searchToLower) ||\r\n                                    n.ID == selectedNoteID\r\n                                  );\r\n    return filtered;\r\n  }\r\n\r\n  onSearchChange = (e:React.ChangeEvent<HTMLInputElement>)=>{\r\n    this.setState({...this.state,loading:true,strSearch:e.target.value});\r\n    this.sbjSearch.next({});\r\n  }\r\n\r\n  onClickNote = (note:INote)=>{\r\n    this.props.onSelectNote && this.props.onSelectNote(note);\r\n  }\r\n\r\n  onClickAddNote = async ()=>{\r\n    const dummyTitle = 'NEW_NOTE_'+(new Date().getTime().toString());\r\n    let newNote:INote = {\r\n      Body:'',\r\n      Title:dummyTitle,\r\n      UID:this.props.user.uid\r\n    }\r\n    await databaseSvc.addToCollection('notes',newNote);\r\n    const newNoteList = [...this.props.notes, newNote];\r\n    this.props.dispatch(new ReduxAction(ActionTypes.SET_NOTE_LIST,newNoteList).value);\r\n    this.props.dispatch(new ReduxAction(ActionTypes.SET_SELECTED_NOTE, newNote).value);\r\n    setTimeout(() => {\r\n      const titleInput = document.querySelector('#txt-note-title') as HTMLInputElement;\r\n      titleInput.focus();\r\n      titleInput.select();\r\n    }, 100);\r\n  }\r\n\r\n  renderListItem(note:INote, index:number){\r\n    const selected = this.props.selectedNote == note;\r\n    return(\r\n      <ListItem button dense divider key={note.ID}\r\n        classes={({root:selected? 'list-item-note-selected':'list-item-note'})}\r\n        onClick={e=>this.onClickNote(note)} >\r\n        <ListItemText classes={({root:'note-item-text '+(selected&&'note-item-text-selected')})} >{note.Title}</ListItemText>\r\n      </ListItem>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { loading } = this.state;\r\n    const filteredNotes = this.getFilterNotes();\r\n    let strSearch = this.state.strSearch;\r\n\r\n    if(strSearch==null){\r\n      strSearch = this.props.strSearch || \"\";\r\n    }\r\n\r\n    return (\r\n      <div className=\"note-list-component\">\r\n        <div className=\"actions-bar-wrapper\">\r\n          <br/>\r\n        </div>\r\n        <Paper classes={({root:\"searchbar-paper\"})} >\r\n          <div className=\"search-input-wrapper\">\r\n            <InputBase onChange={this.onSearchChange}\r\n              value={strSearch} \r\n              classes={({root:\"search-input\"})} placeholder=\"Search..\"></InputBase>\r\n            <Icon fontSize=\"small\" classes={({root:'search-icon'})}>\r\n              <i style={({color:\"#a0a0a0\"})} className=\"fas fa-search\"></i>\r\n            </Icon>\r\n          </div>\r\n        </Paper>\r\n        <LinearProgress classes={({root:loading?\"search-progress-loading\":\"search-progress-complete\"})} \r\n          color=\"primary\">\r\n        </LinearProgress>\r\n        <div className=\"list-of-notes\">\r\n          <List>\r\n            <ListItem onClick={this.onClickAddNote} classes={({root:'add-note-btn'})} button dense divider>\r\n              <ListItemText classes={({root:'note-item-text'})} >ADD NOTE</ListItemText>\r\n              <ListItemIcon>\r\n                <i className=\"fas fa-plus-circle\"></i>\r\n              </ListItemIcon>              \r\n            </ListItem>\r\n            {filteredNotes.map((n,index) => this.renderListItem(n,index))}\r\n          </List>\r\n        </div>     \r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state:StoreState):StoreState => ({\r\n  ...state\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  dispatch:dispatch\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NoteList)\r\n","import React, { Component, Dispatch } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport ReactQuill from 'react-quill';\r\nimport { StoreState } from '../redux/store-state';\r\nimport { Paper, TextField, Typography, Button, IconButton, Hidden, CircularProgress } from '@material-ui/core';\r\nimport { Subject } from 'rxjs';\r\nimport { IReduxAction, ReduxAction } from '../redux/redux-action.class';\r\nimport { ActionTypes } from '../redux/action-types';\r\nimport { INote } from '../models/note.interface';\r\nimport { async } from 'q';\r\nimport { databaseSvc } from '../services/database.service';\r\nimport { debounceTime } from 'rxjs/operators';\r\nimport { Delta, Sources } from 'quill';\r\n\r\ninterface Props extends StoreState{\r\n  dispatch?:<T>(action:IReduxAction<T>)=>any;\r\n}\r\n\r\ninterface State{\r\n  loading?:boolean;\r\n}\r\n\r\nclass NoteEditor extends Component<Props, State> {\r\n\r\n  constructor(p){\r\n    super(p);\r\n    this.state = {};\r\n  }\r\n\r\n  sbjChange = new Subject();\r\n\r\n  componentWillMount(){\r\n    this.sbjChange.pipe(debounceTime(500))\r\n      .subscribe(async ()=>{\r\n        await databaseSvc.updateItem('notes', this.props.selectedNote);\r\n        this.setState({...this.state,loading:false});\r\n      });\r\n  }\r\n\r\n  onCloseNote = ()=>{\r\n    this.props.dispatch(new ReduxAction(ActionTypes.SET_SELECTED_NOTE, null).value);\r\n  }\r\n\r\n  onDeleteNote = async (noteToDelete:INote)=>{\r\n    await databaseSvc.removeItem('notes',noteToDelete);\r\n    const newNoteList = this.props.notes.filter(n => n.ID!=noteToDelete.ID);\r\n    this.props.dispatch(new ReduxAction(ActionTypes.SET_NOTE_LIST, newNoteList).value);\r\n    this.onCloseNote();\r\n  }\r\n\r\n  onTitleChange(title:string){\r\n    const note = this.props.selectedNote;\r\n    note.Title = title;\r\n    this.props.dispatch(new ReduxAction(ActionTypes.SET_SELECTED_NOTE, note).value);\r\n    this.sbjChange.next();\r\n    this.setState({...this.state,loading:true});\r\n  }\r\n\r\n  onBodyChange(body:string,delta:Delta,source:Sources){\r\n    if(source!=\"user\"){\r\n      return;\r\n    }\r\n\r\n    const note = this.props.selectedNote;\r\n    note.Body = body;\r\n    this.props.dispatch(new ReduxAction(ActionTypes.SET_SELECTED_NOTE, note).value);\r\n    this.sbjChange.next();\r\n    this.setState({...this.state,loading:true});\r\n  }\r\n\r\n  render() {\r\n    const { selectedNote } = this.props;\r\n    return (\r\n      <div className=\"note-editor-component\">\r\n        <Paper square>\r\n          <div className=\"title-wraper\">\r\n            <TextField id=\"txt-note-title\" onChange={e=>this.onTitleChange(e.target.value)} classes={({root:'txt-title'})} disabled={!selectedNote} label=\"Title\" value={selectedNote? selectedNote.Title:''}></TextField>\r\n            <IconButton disabled={!selectedNote} onClick={this.onCloseNote} color=\"default\">\r\n              <i style={({fontSize:'20px'})} className=\"fas fa-times-circle\"></i>\r\n            </IconButton>\r\n            <CircularProgress className={\"editor-save-progress \"+(!this.state.loading && \"hidden\")} />\r\n          </div>\r\n        </Paper>\r\n        <Paper classes={({root:\"quill-paper-wrapper\"})} square >\r\n          <ReactQuill onChange={(e,delta,source)=>this.onBodyChange(e,delta,source)} readOnly={!selectedNote} value={selectedNote? selectedNote.Body:''} placeholder=\"write your notes :)\" theme=\"snow\"></ReactQuill>\r\n          <IconButton onClick={e=>this.onDeleteNote(this.props.selectedNote)} classes={({root:\"delete-btn \"+(!selectedNote&&\"hidden\")})}>\r\n            <i style={({fontSize:'20px'})} className=\"fas fa-trash-alt\"></i>\r\n          </IconButton>\r\n        </Paper>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  ...state\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({dispatch})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NoteEditor)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { Toolbar, IconButton, Typography, Button, AppBar, Hidden, withWidth, Drawer, Grid, Tooltip } from '@material-ui/core';\r\nimport { Dispatch } from 'redux';\r\nimport { StoreState } from '../redux/store-state';\r\nimport { IReduxAction, ReduxAction } from '../redux/redux-action.class';\r\nimport { Breakpoint } from '@material-ui/core/styles/createBreakpoints';\r\nimport authSvc from '../services/auth.service';\r\nimport { ActionTypes } from '../redux/action-types';\r\nimport NoteList from './NoteList';\r\nimport { INote } from '../models/note.interface';\r\nimport NoteEditor from './NoteEditor';\r\n\r\ninterface LayoutProps extends StoreState{\r\n  dispatch?:<T>(action:IReduxAction<T>)=>any,\r\n  width?:Breakpoint\r\n}\r\n\r\ninterface LayoutState {\r\n  drawerOpen?:boolean\r\n}\r\n\r\nclass Layout extends Component<LayoutProps, LayoutState> {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      drawerOpen:false\r\n    }\r\n  }\r\n\r\n  toggleDrawer = (isOpen:boolean = null)=>{\r\n    if(isOpen==null){\r\n      isOpen = !this.state.drawerOpen;\r\n    }\r\n\r\n    this.setState({...this.state,drawerOpen:isOpen});\r\n  }\r\n\r\n  isMobile(){\r\n    return this.props.width==\"xs\" || this.props.width==\"sm\";\r\n  }\r\n\r\n  logout = async()=>{\r\n    await authSvc.logOut();\r\n    this.props.dispatch(new ReduxAction(ActionTypes.SET_USER, null).value);\r\n  }\r\n\r\n  onSelectNote = (note:INote)=>{\r\n    this.props.dispatch(new ReduxAction(ActionTypes.SET_SELECTED_NOTE, note).value);\r\n    this.toggleDrawer(false);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={`layout-component ${(this.state.drawerOpen || !this.isMobile()) && \"drawer-open\"}`}>\r\n        <nav>\r\n          <Drawer anchor=\"left\" variant={this.isMobile()? \"temporary\":\"permanent\"} onClose={()=>this.toggleDrawer(false)} open={this.state.drawerOpen} classes={({paper:\"drawer-paper\"})} >\r\n            <NoteList onSelectNote={this.onSelectNote} ></NoteList>\r\n          </Drawer>\r\n        </nav>      \r\n        <AppBar color=\"primary\" position=\"relative\">\r\n          <Toolbar>\r\n            <Hidden only={[\"md\",\"lg\",\"xl\"]} >\r\n              <IconButton onClick={()=>this.toggleDrawer()} >\r\n                <i className=\"fas fa-bars\"></i>\r\n              </IconButton>   \r\n            </Hidden>\r\n            <Typography variant=\"h6\" color=\"inherit\">\r\n              {this.props.user.email}  \r\n            </Typography>\r\n            <Tooltip title=\"Sign Out\" placement=\"left\" >\r\n              <IconButton onClick={this.logout} classes={({root:\"btn-logout\"})} >\r\n                <i style={({fontSize:\"20px\"})} className=\"fas fa-power-off\"></i>\r\n              </IconButton>\r\n            </Tooltip>            \r\n          </Toolbar>\r\n        </AppBar>\r\n        <div className=\"layout-content\">\r\n          <NoteEditor></NoteEditor>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state:StoreState):StoreState => ({\r\n    user:state.user\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch:Dispatch) => {\r\n  return {\r\n    dispatch:dispatch\r\n  } as LayoutProps;\r\n}\r\n\r\nconst connected = connect(mapStateToProps, mapDispatchToProps)(Layout);\r\nconst withWidthConnected = withWidth()(connected);\r\nexport default withWidthConnected;\r\n","import React, { Component, Dispatch } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { StoreState } from '../redux/store-state';\r\nimport { ReduxAction, IReduxAction } from '../redux/redux-action.class';\r\nimport firebase from 'firebase';\r\nimport { ActionTypes } from '../redux/action-types';\r\nimport firebaseSvc from '../services/firebase.service';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Login from './Login';\r\nimport Layout from './Layout';\r\nimport { databaseSvc } from '../services/database.service';\r\nimport { INote } from '../models/note.interface';\r\n\r\ninterface AuthProtectorProps extends StoreState {\r\n  dispatch?:(action:IReduxAction<any>)=>any\r\n}\r\n\r\ninterface AuthProtectorState {\r\n  loading?: boolean;\r\n}\r\n\r\nclass AuthProtector extends Component<AuthProtectorProps, AuthProtectorState> {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: true\r\n    };\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.checkAuth();\r\n  }\r\n\r\n  async checkAuth(){\r\n    this.setState({...this.state,loading:true});\r\n    firebaseSvc.auth().onAuthStateChanged(user => {\r\n      this.props.dispatch(new ReduxAction(ActionTypes.SET_USER, user).value);\r\n      this.setState({...this.state,loading:false});\r\n      if(user){\r\n        this.loadNotes();\r\n      }      \r\n    });\r\n  }\r\n\r\n  async loadNotes(){\r\n    const notes = await databaseSvc.getCollection<INote>(\"notes\", (qry)=>qry.where(\"UID\",\"==\",this.props.user.uid));\r\n    this.props.dispatch(new ReduxAction(ActionTypes.SET_NOTE_LIST, notes).value);\r\n  }  \r\n\r\n  render() {\r\n    if (this.state.loading) {\r\n      return (\r\n        <div className=\"giant-progress-container-wrapper\">\r\n          <div className=\"giant-progress-container\">\r\n            <CircularProgress\r\n              variant=\"indeterminate\"\r\n              size={200}\r\n              value={50}\r\n              color=\"primary\"\r\n            />\r\n          </div>\r\n        </div>\r\n      );\r\n    } else if (this.props.user == null) {\r\n      return (\r\n        <div className=\"flex-hbox login-wrapper\">\r\n          <Login></Login>\r\n\t\t\t\t</div>\r\n      );\r\n    } else {\r\n      return (\r\n        <Layout></Layout>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: StoreState): AuthProtectorProps => ({\r\n  user: state.user\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch:Dispatch<any>):AuthProtectorProps => {\r\n  return {\r\n    dispatch:dispatch\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AuthProtector)\r\n","import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport '../stylesheets/App.scss';\nimport 'react-quill/dist/quill.snow.css';\nimport 'react-quill/dist/quill.core.css';\nimport '@material-ui/core'\nimport firebase from 'firebase';\nimport { Button, CssBaseline } from '@material-ui/core';\nimport { createMuiTheme, MuiThemeProvider } from '@material-ui/core/styles';\nimport AuthProtector from './AuthProtector';\n\nconst theme = createMuiTheme({\n  palette:{\n    type: 'dark',\n    primary:{\n      main:'#673ab7'\n    },\n    secondary: {\n      main: '#00e5ff',\n    }\n  }\n});\n\ninterface AppProps{\n\n}\n\nclass App extends Component<AppProps> {\n  constructor(props){\n    super(props);\n\n  }\n\n  render() {\n    return (\n      <MuiThemeProvider theme={theme}>\n          <CssBaseline/>\n          <AuthProtector></AuthProtector>\n      </MuiThemeProvider>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport { store } from './redux/store';\nimport App from './components/App';\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>, \n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}