{"version":3,"sources":["serviceWorker.ts","redux/action-types.ts","redux/reducers.ts","redux/store.ts","redux/redux-action.class.ts","services/firebase.service.ts","services/auth.service.ts","components/Login.tsx","services/database.service.ts","components/TextDialog.tsx","components/Draggable.tsx","components/Folder.tsx","hooks/useConfirmDialog.tsx","components/Droppable.tsx","components/NoteList.tsx","components/NoteEditor.tsx","components/Layout.tsx","components/AuthProtector.tsx","components/App.tsx","index.tsx"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","URL","process","href","origin","addEventListener","concat","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker","ActionTypes","combinedReducers","combineReducers","user","userState","action","type","SET_USER","data","notes","SET_NOTE_LIST","Object","toConsumableArray","folders","SET_FOLDER_LIST","strSearch","str","SET_SEARCH_QUERY","filteredNotes","returnVal","SET_FILTERED_NOTE_LIST","sort","a","b","Title","toLowerCase","localeCompare","selectedNote","note","SET_SELECTED_NOTE","openFolders","SET_OPEN_FOLDERS","objectSpread","devTools","__REDUX_DEVTOOLS_EXTENSION__","undefined","store","createStore","ReduxAction","classCallCheck","this","createClass","key","firebaseSvc","firebase","initializeApp","apiKey","authDomain","projectId","authSvc","AuthService","auth","googleAuthProvider","GoogleAuthProvider","signInWithRedirect","signOut","Login","props","possibleConstructorReturn","getPrototypeOf","call","loginType","loginWithGoogle","_this","react_default","createElement","index_es","open","fullScreen","component","button","onClick","e","loginWith","className","title","Component","connected","connect","dispatch","databaseSvc","firestore","collectionPath","qry","coll","collection","snapshot","items","forEach","doc","docData","ID","id","push","item","add","docRef","update","_step","batch","_iterator","_createForOfIteratorHelper","s","n","done","value","itemDocRef","err","f","commit","delete","_step2","_iterator2","TextDialog","_React$useState","React","_React$useState2","slicedToArray","setValue","_React$useState3","_React$useState4","setOpen","responseStream","Subject","show","initialValue","arguments","length","pipe","take","toPromise","respondAndClose","next","setShow","react","style","minWidth","label","fullWidth","onChange","target","margin","Draggable","ref","current","model","$","draggable","handle","revert","revertDuration","axis","children","d","menuAnchor","setMenuAnchor","regex","RegExp","folder","filter","Body","FolderID","checkedNotes","_useConfirmDialog","_useState","useState","_useState2","setopen","_useState3","_useState4","header","setheader","_useState5","_useState6","subheader","setsubheader","stream","useMemo","showDialog","useCallback","respond","res","useConfirmDialog","_useConfirmDialog2","showConfirm","confirmDialog","showTextDialog","handleNoteCheckChange","checked","onCheckNote","handleClickMenu","preventDefault","stopPropagation","handleMenuClose","handleExpandChange","event","handleAddNote","onClickAddNote","handleDeleteNotes","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","sent","onClickDeleteNotes","stop","handleDeleteFolder","_callee2","_context2","Name","onClickDeleteFolder","handleRename","_callee3","_context3","onUpdateFolder","ExpansionPanel_default","expanded","ExpansionPanelSummary_default","expandIcon","color","showZero","badgeContent","Typography_default","ExpansionPanelDetails_default","paddingLeft","paddingRight","classes","root","dense","disablePadding","width","map","index","divider","selected","padding","includes","primary","size","anchorEl","onClose","fn","Droppable","droppable","accept","drop","ui","onJqDrop","NoteList","p","sbjSearch","onSearchChange","setState","loading","onClickNote","onSelectNote","_ref","folderID","dummyTitle","newNote","newNoteList","Date","getTime","toString","UID","uid","addToCollection","toast","info","position","hideProgressBar","autoClose","setTimeout","titleInput","document","querySelector","focus","select","_x","apply","notesToDelete","removeMany","onClickAddFolder","newFolder","_ref4","_callee4","newFolderList","notesFromFolder","_context4","removeItem","updateMany","_x2","onNoteListCheck","_ref5","_callee5","ix","_context5","findIndex","updateItem","_x3","onDropToFolder","_ref6","_callee6","_context6","_x4","_x5","willFolderAcceptNote","_this2","debounceTime","subscribe","selectedNoteID","searchToLower","slice","toLocaleLowerCase","_this3","foldersWithGeneral","placeholder","fontSize","components_Folder","NoteEditor","sbjChange","currentNoteID","onCloseNote","onDeleteNote","noteToDelete","onBodyChange","text","body","readonly","copyClipboard","copyhelper","appendChild","execCommand","removeChild","prop","upcomingNoteID","isReadOnlyChecked","IsReadOnly","_this$state","square","onTitleChange","disabled","ts","init","paste_data_images","skin","content_css","height","menubar","plugins","toolbar","onEditorChange","control","onReadOnlyChange","Layout","toggleDrawer","isOpen","drawerOpen","logout","logOut","isMobile","anchor","variant","onOpen","paper","components_NoteList","only","email","placement","components_NoteEditor","withWidthConnected","withWidth","AuthProtector","checkAuth","onAuthStateChanged","loadNotes","getCollection","where","CircularProgress_default","components_Login","components_Layout","theme","createMuiTheme","palette","main","secondary","App","styles","components_AuthProtector","lib","ReactDOM","render","es","components_App","getElementById"],"mappings":"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","file":"static/js/main.db1f2821.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n\nregister();","export enum ActionTypes {\n  SET_USER = 'SET_USER',\n  SET_ACTIVE_NOTE = 'SET_ACTIVE_NOTE',\n  SET_NOTE_LIST = 'SET_NOTE_LIST',\n  SET_FOLDER_LIST = 'SET_FOLDER_LIST',\n  SET_FILTERED_NOTE_LIST = 'SET_FILTERED_NOTE_LIST',\n  SET_SEARCH_QUERY = 'SET_SEARCH_QUERY',\n  SET_SELECTED_NOTE = 'SET_SELECTED_NOTE',\n  SET_SEARCHINPUT_FOCUS_STATE = 'SET_SEARCHINPUT_FOCUS_STATE',\n  SET_OPEN_FOLDERS = 'SET_OPEN_FOLDERS'\n}","import { ReduxAction, IReduxAction } from \"./redux-action.class\";\nimport { ActionTypes } from \"./action-types\";\nimport { combineReducers } from \"redux\";\nimport { INote } from \"../models/note.interface\";\nimport { StoreState } from \"./store-state\";\nimport { IFolder } from \"../models/folder.interface\";\nimport { IDictionary } from \"../models/dictionary.interface\";\n\nfunction user(userState:firebase.User, action:IReduxAction<firebase.User>) {\n  switch (action.type) {\n    case ActionTypes.SET_USER:\n      return action.data as firebase.User;\n      break;\n  \n    default:\n      return userState || null;\n      break;\n  }\n}\n\nfunction notes(notes:INote[], action:IReduxAction<INote[]>){\n  switch (action.type) {\n    case ActionTypes.SET_NOTE_LIST:\n      return [...action.data];\n      break;\n  \n    default:\n      return notes||[];\n      break;\n  }\n}\n\nfunction folders(folders:IFolder[], action:IReduxAction<IFolder[]>){\n  switch (action.type){\n    case ActionTypes.SET_FOLDER_LIST:\n      return [...action.data];\n      break;\n    default:\n      return folders||[];\n      break;      \n  }\n}\n\nfunction filteredNotes(notes:INote[], action:IReduxAction<INote[]>){\n  let returnVal:INote[] = [];\n  switch (action.type) {\n    case ActionTypes.SET_FILTERED_NOTE_LIST:\n      if(action.data){\n        returnVal = [...action.data];\n      }\n      break;\n  \n    default:\n      if(notes){\n        returnVal = [...notes];\n      }\n      break;\n  }\n\n  return returnVal.sort((a,b)=>a.Title.toLowerCase().localeCompare(b.Title.toLowerCase()));\n}\n\nfunction strSearch(str:string, action:IReduxAction<string>){\n  switch (action.type) {\n    case ActionTypes.SET_SEARCH_QUERY:\n      return action.data;\n      break;\n  \n    default:\n      return str||\"\";\n      break;\n  }\n}\n\nfunction selectedNote(note:INote, action:IReduxAction<INote>){\n  switch (action.type) {\n    case ActionTypes.SET_SELECTED_NOTE:\n      return action.data;\n      break;\n  \n    default:\n      return note||null;\n      break;\n  }\n}\n\nfunction openFolders(openFolders:IDictionary<boolean>, action:IReduxAction<IDictionary<boolean>>){\n  switch (action.type) {\n    case ActionTypes.SET_OPEN_FOLDERS:\n      return {...action.data};\n      break;\n  \n    default:\n      return openFolders || {};\n      break;\n  }\n}\n\nexport const combinedReducers = combineReducers({\n  user,\n  notes:notes,\n  folders,\n  strSearch:strSearch,\n  filteredNotes:filteredNotes,\n  selectedNote:selectedNote,\n  openFolders\n});","import { createStore } from 'redux';\nimport { combinedReducers } from './reducers';\nlet devTools = (window as any).__REDUX_DEVTOOLS_EXTENSION__ && (window as any).__REDUX_DEVTOOLS_EXTENSION__();\nif (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\n  // dev code\n} else {\n  devTools = undefined;  \n}\nexport const store = createStore(combinedReducers, {}, devTools);","export interface IReduxAction<T> {\n    type: string;\n    data: T;\n}\n\nexport class ReduxAction<T> implements IReduxAction<T>{\n    constructor(type:string, data:T){\n        this.type = type;\n        this.data = data;\n    }\n\n    get value ():IReduxAction<T> {\n       return {\n           type: this.type,\n           data: this.data\n       }\n    }\n\n    type:string = null;\n    data:T = null;\n}","import firebase from 'firebase';\nconst firebaseSvc = firebase.initializeApp({\n    apiKey: process.env.REACT_APP_APIKEY,\n        authDomain: process.env.REACT_APP_AUTHDOMAIN,\n        projectId: process.env.REACT_APP_PROJECTID\n});\n\nexport default firebaseSvc;","import firebaseSvc from \"./firebase.service\";\nimport firebase from \"firebase\";\n\nclass AuthService{\n    constructor(){\n        this.auth = firebaseSvc.auth();\n        this.googleAuthProvider = new firebase.auth.GoogleAuthProvider();\n    }\n\n    private auth:firebase.auth.Auth;\n\n    loginWithGoogle(){\n        return this.auth.signInWithRedirect(this.googleAuthProvider);\n    }\n\n    logOut(){\n        return this.auth.signOut();\n    }\n\n    googleAuthProvider:firebase.auth.GoogleAuthProvider = null;\n}\n\nconst authSvc = new AuthService();\nexport default authSvc;","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { StoreState } from '../redux/store-state';\nimport { Dispatch } from 'redux';\nimport { Card, CardHeader, CardContent, Typography, Button, Dialog, DialogTitle, DialogContent, DialogContentText, List, ListItem, ListItemText, ListItemIcon, Icon, Tooltip } from '@material-ui/core';\nimport { IReduxAction } from '../redux/redux-action.class';\nimport withMobileDialog from '@material-ui/core/withMobileDialog';\nimport authSvc from '../services/auth.service';\n\ninterface LoginProps extends StoreState{\n    dispatch?:<T>(action:IReduxAction<T>)=>void,\n    fullScreen?:boolean\n}\n\nclass Login extends Component<LoginProps> {\n  \n  constructor(props){\n    super(props);\n  }\n\n  loginWith(loginType:\"google\"|\"facebook\"){\n    switch (loginType) {\n      case \"google\":\n        authSvc.loginWithGoogle();\n        break;\n    \n      default:\n        break;\n    }\n  }\n\n  render() {\n    return (\n      <Dialog open={true} fullScreen={false} >\n        <DialogTitle >\n          Login\n            </DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            <List component=\"nav\">\n              <ListItem button onClick={e => this.loginWith(\"google\")}>\n                <ListItemIcon><i className=\"fab fa-google\"></i></ListItemIcon>\n                <ListItemText>Sign in with Google</ListItemText>\n              </ListItem>\n              <Tooltip title=\"Not supported\">\n                <ListItem button >\n                  <ListItemIcon><i className=\"fab fa-facebook\"></i></ListItemIcon>\n                  <ListItemText><del>Login with Facebook</del></ListItemText>\n                </ListItem>\n              </Tooltip>\n            </List>\n          </DialogContentText>\n        </DialogContent>\n      </Dialog>\n    )\n  }\n}\n\nconst mapStateToProps = (state:StoreState):LoginProps => ({\n  user:state.user\n})\n\nconst mapDispatchToProps = (dispatch:any):LoginProps => {\n  return {\n    dispatch:dispatch\n  }\n}\n\nconst connected = connect(mapStateToProps, mapDispatchToProps)(Login);\nexport default connected;\n","import firebaseSvc from \"./firebase.service\";\n\nclass FireStoreDatabase {\n\n  async getCollection<T>(collectionPath: string, qry: (collection: firebase.firestore.Query) => firebase.firestore.Query = null) {\n\n    let coll = this.firestore.collection(collectionPath) as firebase.firestore.Query;\n    if (qry) {\n      coll = qry(coll);\n    }\n\n    const snapshot = await coll.get();\n    let items: T[] = [];\n    snapshot.forEach(doc => {\n      let docData: any = doc.data();\n      docData.ID = doc.id;\n      items.push(docData);\n    });\n    (items as any[]).sort((a, b) => a.ID.localeCompare(b.ID));\n    return items;\n  }\n\n  async addToCollection<T>(collectionPath: string, item: T) {\n    const docRef = await this.firestore\n      .collection(collectionPath)\n      .add(item);\n    item['ID'] = docRef.id;\n    return item;\n  }\n\n  updateItem<T>(collectionPath: string, item: T) {\n    return this.firestore\n      .collection(collectionPath)\n      .doc(item['ID'])\n      .update(item);\n  }\n\n  updateMany<T>(collectionPath: string, items: T[]){\n    const batch = this.firestore.batch();\n    for (const item of items) {\n      const itemDocRef = this.firestore.collection(collectionPath).doc(item[\"ID\"]);\n      batch.update(itemDocRef, item);\n    }\n    return batch.commit();\n  }\n\n  removeItem<T>(collectionPath: string, item: T) {\n    return this.firestore\n      .collection(collectionPath)\n      .doc(item['ID'])\n      .delete();\n  }\n\n  removeMany<T>(collectionPath:string, items:T[]){\n    const batch = this.firestore.batch();\n    for (const item of items) {\n      const itemDocRef = this.firestore.collection(collectionPath).doc(item[\"ID\"]);\n      batch.delete(itemDocRef);\n    }\n\n    return batch.commit();\n  }\n\n  firestore = firebaseSvc.firestore();\n}\n\nexport const databaseSvc = new FireStoreDatabase();","import * as React from 'react';\nimport { Dialog, DialogTitle, DialogContent, TextField, DialogActions, Button } from '@material-ui/core';\nimport { Subject } from 'rxjs';\nimport { take } from 'rxjs/operators';\n\nexport interface ITextDialogProps {\n  title?:string;\n  label?:string;\n  setShow?:(showFn:(str:string)=>Promise<string>)=>any\n}\n\nexport function TextDialog (props: ITextDialogProps) {\n    \n    const [value,setValue] = React.useState(\"\");\n    const [open,setOpen] = React.useState(false);\n    const responseStream = React.useMemo(()=>new Subject<string>(),[]);\n\n    const show = React.useCallback((initialValue:string = \"\")=>{\n      setValue(initialValue);\n      setOpen(true);\n      return responseStream.pipe(take(1)).toPromise();\n    },[]);\n\n    const respondAndClose = React.useCallback((response:string)=>{\n      responseStream.next(response);\n      setOpen(false);\n    },[]);\n\n    props.setShow && props.setShow(show);\n\n    return (\n      <Dialog open={open}>\n        <DialogTitle>{props.title}</DialogTitle>\n        <DialogContent>\n          <TextField\n            style={({minWidth:\"300px\"})}\n            label={props.label}\n            fullWidth\n            value={value}\n            onChange={(e)=>setValue(e.target.value)}\n            margin=\"dense\"\n          />          \n        </DialogContent>\n        <DialogActions>\n          <Button onClick={e=>respondAndClose(undefined)}>\n            Cancel\n          </Button>\n          <Button onClick={e=>respondAndClose(value)}>\n            Ok\n          </Button>\n        </DialogActions>\n      </Dialog>\n    );\n}\n","import * as React from 'react';\n\nexport interface IDraggableProps {\n  children:React.ReactNode;\n  className?:string;\n  model?:any;\n}\n\nexport function Draggable (props: IDraggableProps) {\n    \n    const ref = React.useRef<HTMLSpanElement>();\n\n    React.useEffect(()=>{\n      ref && ref.current && (ref.current[\"model\"] = props.model);\n    },[props.model])\n\n    React.useEffect(()=>{\n      ref && ref.current && $(ref.current).draggable({\n        handle:\".note-list-item-icon\",\n        revert: true,\n        revertDuration: 0,\n        axis: 'y'\n      });\n    },[ref.current]);\n\n    return (\n      <span ref={ref} className={props.className}>\n        {props.children}\n      </span>\n    );\n}\n","import * as React from 'react';\nimport { INote } from '../models/note.interface';\nimport { IFolder } from '../models/folder.interface';\nimport { mapStateFn } from '../models/mapState.interface';\nimport { connect } from 'react-redux'\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport { dispatchFn, mapDispatchFn } from '../models/mapDispatch.interface';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport Typography from '@material-ui/core/Typography';\nimport { Badge, ListItem, List, ListItemText, Checkbox, ListItemIcon, Fab, IconButton, Icon, ExpansionPanelActions, Button, MenuItem, Menu } from '@material-ui/core';\nimport { ReduxAction } from '../redux/redux-action.class';\nimport { ActionTypes } from '../redux/action-types';\nimport { TextDialog } from './TextDialog';\nimport { useConfirmDialog } from '../hooks/useConfirmDialog';\nimport { Draggable } from './Draggable';\nimport { IDictionary } from '../models/dictionary.interface';\n\nexport interface IAppProps {\n  children?:any;\n  strSearch?:string;\n  dispatch?:dispatchFn;\n  notes?:INote[];\n  folder:IFolder;\n  selectedNote?:INote;\n  onCheckNote?:(note:INote,checked:boolean)=>any;\n  onClickAddNote?:(folderID:string)=>any;\n  onClickDeleteNotes?:()=>any;\n  onClickDeleteFolder?:(folder:IFolder)=>any;\n  onUpdateFolder?:(folder:IFolder)=>any;\n  checkedNotes:INote[];\n  openFolders?:IDictionary<boolean>;\n}\n\nfunction Folder (props: IAppProps) {\n    const [menuAnchor,setMenuAnchor] = React.useState(null);\n    const regex = new RegExp(props.strSearch||\"\",\"ig\");\n    const folder = props.folder;\n    const notes = (props.notes||[])\n                    .filter(n=>(n.Title+\" \"+n.Body).match(regex) && n.FolderID==folder.ID)\n                    .sort((a,b)=>a.Title.toLowerCase().localeCompare(b.Title.toLowerCase()));\n\n    const selectedNote = props.selectedNote;\n    const checkedNotes = props.checkedNotes||[];\n    const [showConfirm, confirmDialog] = useConfirmDialog();\n\n    let showTextDialog:(val:string)=>Promise<string> = null;\n\n    const handleNoteCheckChange = React.useCallback((note:INote,checked:boolean)=>{\n      props.onCheckNote && props.onCheckNote(note,checked);\n    },[]);\n\n    const handleClickMenu = React.useCallback((e:React.MouseEvent<HTMLDivElement, MouseEvent>)=>{\n      e.preventDefault();\n      e.stopPropagation();\n      setMenuAnchor(e.target);\n    },[]);\n\n    const handleMenuClose = React.useCallback(()=>{\n      setMenuAnchor(null);\n    },[]);\n\n    const handleExpandChange = React.useCallback((event: React.ChangeEvent<{}>,open:boolean)=>{\n      const openFolders = {...(props.openFolders || {})};\n      openFolders[folder.ID] = open;\n      const action = new ReduxAction(\n        ActionTypes.SET_OPEN_FOLDERS,\n        openFolders\n      );\n\n      props.dispatch(action.value);\n    },[folder.ID,props.openFolders]);\n\n    const handleAddNote = React.useCallback(()=>{\n      props.onClickAddNote && props.onClickAddNote(folder.ID);\n      handleMenuClose();\n    },[folder]);\n\n    const handleDeleteNotes = React.useCallback(async ()=>{\n      handleMenuClose();\n      if(await showConfirm(`Confirm`,`Delete Notes?`)){\n        props.onClickDeleteNotes && props.onClickDeleteNotes();\n      }\n    },[folder,notes]);\n\n    const handleDeleteFolder = React.useCallback(async ()=>{\n      handleMenuClose();\n      if(await showConfirm(`Confirm`,`Delete folder \"${folder.Name}?\"`)){\n        props.onClickDeleteFolder && props.onClickDeleteFolder(props.folder);\n      }\n    },[folder]);\n\n    const handleRename = React.useCallback(async ()=>{\n      handleMenuClose();\n      const response = await showTextDialog(folder.Name);\n      if(response != null){\n        props.onUpdateFolder && props.onUpdateFolder({...folder,Name:response});\n      }\n    },[folder]);\n\n    return (\n      \n        <ExpansionPanel expanded={props.openFolders && props.openFolders[props.folder.ID]} onChange={handleExpandChange}>\n          <ExpansionPanelSummary expandIcon={<i className=\"fas fa-angle-down\"></i>}>\n            <Badge color={notes.length? \"primary\":\"error\"} showZero badgeContent={notes.length}>\n              <Typography>{folder.Name}</Typography>\n            </Badge>\n          </ExpansionPanelSummary>\n          <ExpansionPanelDetails style={({paddingLeft:\"5px\",paddingRight:\"5px\"})}>\n            <List classes={({root:'note-list'})} dense disablePadding style={({width:\"100%\"})}>\n            {\n              notes.map((n,index)=>(\n              <Draggable key={n.ID} className=\"draggable-note-liste-item\" model={n} >\n                <ListItem  classes={({root:'note-list-item'})} divider={index+1 < notes.length} \n                          dense\n                          button \n                          selected={n.ID==(selectedNote && selectedNote.ID || \"\")}\n                          onClick={()=>props.dispatch(new ReduxAction(ActionTypes.SET_SELECTED_NOTE,n).value)} >\n                  <Checkbox style={({padding:\"0px\"})} \n                      onClick={e=>e.stopPropagation()} \n                      onChange={(e,checked)=>handleNoteCheckChange(n,checked)} \n                      checked={checkedNotes.includes(n)}>\n                  </Checkbox>\n                  <ListItemText primary={n.Title}/>\n                  <ListItemIcon classes={({root:'note-list-item-icon'})} onClick={e=>e.stopPropagation()}>\n                    <i className=\"fas fa-arrows-alt\"></i>\n                  </ListItemIcon>\n                </ListItem>    \n              </Draggable>\n              ))\n            }\n            </List>\n          </ExpansionPanelDetails>\n          <ExpansionPanelActions>\n            <Fab size=\"small\" color=\"primary\" onClick={handleClickMenu}>\n              <i className=\"fas fa-ellipsis-v\"></i>\n            </Fab>\n          </ExpansionPanelActions>\n          <Menu\n            id=\"simple-menu\"\n            anchorEl={menuAnchor}\n            open={Boolean(menuAnchor)}\n            onClose={handleMenuClose}\n          >\n            <MenuItem onClick={handleAddNote}>\n              <i className=\"fas fa-file-medical\"></i>\n              &nbsp; Add Note\n            </MenuItem>\n            {\n            folder.ID!=null &&\n            <MenuItem onClick={handleRename}>\n              <i className=\"fas fa-pen\"></i>\n              &nbsp; Rename\n            </MenuItem>\n            }        \n            {\n            checkedNotes.length &&\n            <React.Fragment>\n              <MenuItem>\n                <i className=\"fas fa-exchange-alt\"></i>\n                &nbsp; Move Notes\n              </MenuItem>            \n              <MenuItem onClick={handleDeleteNotes}>\n                <i style={({color:\"#F44336\"})} className=\"fas fa-file\"></i>\n                &nbsp; Delete Notes\n              </MenuItem>\n            </React.Fragment>\n            }\n            {\n            folder.ID!=null &&\n            <MenuItem onClick={handleDeleteFolder}>\n              <i style={({color:\"#F44336\"})} className=\"fas fa-folder\"></i>\n              &nbsp; Delete Folder\n            </MenuItem>\n            }\n          </Menu>\n\n          <TextDialog title=\"Rename Folder\" label=\"Folder Name\" setShow={fn=>showTextDialog=fn}></TextDialog>\n          {confirmDialog}\n        </ExpansionPanel>\n      \n    );\n}\n\n\nconst mapState:mapStateFn<any> = (state)=>({\n  notes:state.notes,\n  strSearch: state.strSearch,\n  selectedNote: state.selectedNote,\n  openFolders: state.openFolders\n});\n\nconst mapDispatch:mapDispatchFn = (d)=>({\n  dispatch:d\n});\n\nexport default connect(mapState, mapDispatch)(Folder);","import React from \"react\";\nimport { useCallback, useMemo, useState } from \"react\";\nimport { Subject } from \"rxjs\";\nimport { Dialog, DialogContent, DialogTitle, DialogContentText, DialogActions, Button } from \"@material-ui/core\";\nimport { take } from \"rxjs/operators\";\n\nexport function useConfirmDialog():[(header: string, subheader: string) => Promise<boolean>, JSX.Element]{\n\n  const [open, setopen] = useState(false);\n  const [header, setheader] = useState(\"\");\n  const [subheader, setsubheader] = useState(\"\");\n  const stream = useMemo(()=>new Subject<boolean>(),[]);\n  const showDialog = useCallback((header:string,subheader:string)=>{\n    setheader(header);\n    setsubheader(subheader);\n    setopen(true);\n    return stream.pipe(take(1)).toPromise();\n  },[]);\n  const respond = useCallback((res:boolean)=>{\n    stream.next(res);\n    setopen(false);\n  },[]);\n\n  const dialog = (\n    <Dialog open={open}>\n      <DialogTitle>\n        {header}\n      </DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          {subheader}\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={e=>respond(false)}>\n          Cancel\n        </Button>\n        <Button onClick={e=>respond(true)}>\n          Ok\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n\n  return [showDialog,dialog]\n}","import * as React from 'react';\n\nexport interface IDroppableProps {\n  children:any;\n  className?:string;\n  model?:any;\n  onJqDrop?:(item:any,container:any)=>any;\n  accept?:any;\n}\n\nexport function Droppable (props: IDroppableProps) {\n    const ref = React.useRef<HTMLDivElement>();\n\n    React.useEffect(()=>{\n      ref && ref.current && (ref.current[\"model\"] = props.model);\n    },[props.model]);\n\n    React.useEffect(()=>{\n      ref && ref.current && $(ref.current).droppable({\n        accept: props.accept,\n        drop:(event, ui)=>{\n          const draggable = ui.draggable[0];\n          const droppable = event.target as HTMLElement;\n          props.onJqDrop && props.onJqDrop(draggable && draggable[\"model\"] || null, droppable && droppable[\"model\"] || null);\n        }\n      })\n    },[ref.current])\n\n    return (\n      <div ref={ref} className={props.className}>\n        {props.children}\n      </div>\n    );\n}\n","import React, { Component, Dispatch } from 'react'\nimport PropTypes, { element } from 'prop-types'\nimport { connect } from 'react-redux'\nimport { StoreState } from '../redux/store-state';\nimport { IReduxAction, ReduxAction } from '../redux/redux-action.class';\nimport { databaseSvc } from '../services/database.service';\nimport { INote } from '../models/note.interface';\nimport { Paper, InputBase, Icon, LinearProgress, List, ListItem, ListItemText, ButtonBase, Button, Divider, ListItemIcon, Checkbox } from '@material-ui/core';\nimport color from '@material-ui/core/colors/lime';\nimport { ActionTypes } from '../redux/action-types';\nimport { Subject } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport * as ReactDOM from 'react-dom';\nimport { ToastContainer, toast } from 'react-toastify';\nimport Folder from './Folder';\nimport { IFolder } from '../models/folder.interface';\nimport { Droppable } from './Droppable';\n\ninterface Props extends StoreState{\n  notes?:INote[];\n  folders?:IFolder[];\n  dispatch?:Dispatch<IReduxAction<any>>;\n  onSelectNote?:(note:INote)=>any\n  onAddNote?:(note:INote)=>any\n}\n\ninterface State{\n  loading?:boolean;\n  strSearch?:string;\n  checkedNotes?:INote[];\n}\n\nclass NoteList extends Component<Props,State> {\n  constructor(p){\n    super(p);\n    this.state = {\n      checkedNotes:[],\n      strSearch:null\n    };\n  }\n\n  sbjSearch = new Subject();\n\n  componentDidMount(){\n    this.sbjSearch\n      .pipe(debounceTime(500))\n      .subscribe(()=>{\n        this.setState({...this.state,loading:false});\n        this.props.dispatch(new ReduxAction(ActionTypes.SET_SEARCH_QUERY, this.state.strSearch).value);\n      });\n  }\n\n  getFilterNotes(){\n    const selectedNoteID = this.props && this.props.selectedNote && this.props.selectedNote.ID || \"\";\n    const searchToLower = (this.props.strSearch||\"\").toLowerCase();\n    const filtered = (this.props.notes||[])\n                          .slice(0)\n                          .filter(n => n.Body.toLowerCase().includes(searchToLower) ||\n                                    n.Title.toLocaleLowerCase().includes(searchToLower) ||\n                                    n.ID == selectedNoteID);\n    return filtered;\n  }\n\n  onSearchChange = (e:React.ChangeEvent<HTMLInputElement>)=>{\n    this.setState({...this.state,loading:true,strSearch:e.target.value});\n    this.sbjSearch.next({});\n  }\n\n  onClickNote = (note:INote)=>{\n    this.props.onSelectNote && this.props.onSelectNote(note);\n  }\n\n  onClickAddNote = async (folderID:string)=>{\n    const dummyTitle = 'NEW_NOTE_'+(new Date().getTime().toString());\n    let newNote:INote = {\n      Body:'',\n      Title:dummyTitle,\n      UID:this.props.user.uid,\n      FolderID: folderID\n    }\n    \n    await databaseSvc.addToCollection('notes',newNote);\n    const newNoteList = [...this.props.notes, newNote];\n    this.props.dispatch(new ReduxAction(ActionTypes.SET_NOTE_LIST,newNoteList).value);\n    this.props.dispatch(new ReduxAction(ActionTypes.SET_SELECTED_NOTE, newNote).value);\n\n    toast.info(\"New note added!\", { position:\"bottom-right\", hideProgressBar:true, autoClose:2500 });\n    setTimeout(() => {\n      const titleInput = document.querySelector('#txt-note-title') as HTMLInputElement;\n      titleInput.focus();\n      titleInput.select();\n    }, 100);\n  }\n\n  onClickDeleteNotes = async ()=>{\n    const notesToDelete = [...this.state.checkedNotes];\n\n    if(this.state.checkedNotes.includes(this.props.selectedNote)){\n      this.props.dispatch(new ReduxAction(ActionTypes.SET_SELECTED_NOTE, null).value);\n    }\n    this.setState({...this.state, checkedNotes:[]});\n\n    const newNoteList = this.props.notes.filter(n => !notesToDelete.includes(n));\n    this.props.dispatch(new ReduxAction(ActionTypes.SET_NOTE_LIST, newNoteList).value);\n\n    toast.info(`${notesToDelete.length} note/s deleted!`, { position:\"bottom-right\", hideProgressBar:true, autoClose:2500 });\n\n    await databaseSvc.removeMany('notes', notesToDelete);\n  }\n\n  onClickAddFolder = async ()=>{\n    const newFolder:IFolder = {\n      ID:null,\n      Name: \"NEW_FOLDER_\"+(new Date().getTime()),\n      UID: this.props.user.uid\n    }\n    await databaseSvc.addToCollection(\"folders\", newFolder);\n    this.props.dispatch(new ReduxAction(ActionTypes.SET_FOLDER_LIST,[...this.props.folders,newFolder]).value);\n    toast.info(`New folder added!`, { position:\"bottom-right\", hideProgressBar:true, autoClose:2500 });\n  }\n\n  onClickDeleteFolder = async (folder:IFolder)=>{\n    const newFolderList = this.props.folders.filter(f => f.ID!=folder.ID);\n    const notesFromFolder = this.props.notes.filter(n => n.FolderID==folder.ID);\n    notesFromFolder.forEach(n => n.FolderID=null);\n\n    console.log(folder, notesFromFolder);\n    await databaseSvc.removeItem(\"folders\", folder);\n    await databaseSvc.updateMany(\"notes\",notesFromFolder);\n\n    this.props.dispatch(new ReduxAction(ActionTypes.SET_FOLDER_LIST, newFolderList).value);\n    this.props.dispatch(new ReduxAction(ActionTypes.SET_NOTE_LIST, [...this.props.notes]).value);\n    toast.info(`Folder deleted!`, { position:\"bottom-right\", hideProgressBar:true, autoClose:2500 });\n  }\n\n  onNoteListCheck = (note:INote, checked:boolean)=>{\n    if(checked){\n      this.setState({...this.state, checkedNotes:[...this.state.checkedNotes,note]});\n    }else{\n      this.setState({...this.state, checkedNotes:this.state.checkedNotes.filter(n => n.ID!=note.ID)});\n    }\n  }\n\n  onUpdateFolder = async (folder:IFolder)=>{\n    const ix = this.props.folders.findIndex(f => f.ID==folder.ID);\n    if(ix+1){\n      this.props.folders[ix] = folder;\n      this.props.dispatch(new ReduxAction(ActionTypes.SET_FOLDER_LIST,[...this.props.folders]).value);\n      await databaseSvc.updateItem(\"folders\",folder);\n    }\n  }\n\n  onDropToFolder = async (note:INote,folder:IFolder) =>{\n    if(note && folder){\n      note.FolderID = folder.ID;\n      this.props.dispatch(new ReduxAction(ActionTypes.SET_NOTE_LIST, [...this.props.notes]).value);\n      await databaseSvc.updateItem(\"notes\", note);\n      toast.info(`\"${note.Title}\" moved to \"${folder.Name}\"`, { position:\"bottom-right\", hideProgressBar:true, autoClose:2500 });\n    }\n  }\n\n  willFolderAcceptNote = (draggable:JQuery, folder:IFolder)=>{\n    const d = draggable[0];\n    const model:INote = d && d[\"model\"] || null;\n    if(model && model.FolderID != folder.ID){\n      return true;\n    }\n    return false;\n  }\n\n  render() {\n    const { loading } = this.state;\n    let strSearch = this.state.strSearch;\n    const folders = (this.props.folders||[]).sort((a,b)=>a.Name.toLowerCase().localeCompare(b.Name.toLowerCase()));\n    const foldersWithGeneral:IFolder[] = [{ID:null,Name:\"General Notes\",UID:this.props.user.uid},...folders];\n\n    if(strSearch==null){\n      strSearch = this.props.strSearch || \"\";\n    }\n\n    return (\n      <div className=\"note-list-component\">\n        <Paper classes={({root:\"actions-bar-wrapper\"})}>\n          <List>\n            <ListItem button dense onClick={this.onClickAddFolder}>\n              <ListItemText classes={({root:'note-item-text'})} >ADD FOLDER</ListItemText>\n              <ListItemIcon>\n                <i className=\"fas fa-folder-plus\"></i>\n              </ListItemIcon>        \n            </ListItem>            \n          </List>\n          &nbsp;\n        </Paper>\n        <Paper classes={({root:\"searchbar-paper\"})} >\n          <div className=\"search-input-wrapper\">\n            <InputBase onChange={this.onSearchChange}\n              value={strSearch} \n              classes={({root:\"search-input\"})} placeholder=\"Search..\"></InputBase>\n            <Icon fontSize=\"small\" classes={({root:'search-icon'})}>\n              <i style={({color:\"#a0a0a0\"})} className=\"fas fa-search\"></i>\n            </Icon>\n          </div>\n        </Paper>\n        <LinearProgress classes={({root:loading?\"search-progress-loading\":\"search-progress-complete\"})} \n          color=\"primary\">\n        </LinearProgress>\n        <div className=\"list-of-notes\">\n          {\n            foldersWithGeneral.map(folder=>(\n              <Droppable className=\"droppable-folder\" key={folder.ID} model={folder}  onJqDrop={this.onDropToFolder} accept={e=>this.willFolderAcceptNote(e,folder)} >\n                <Folder checkedNotes={this.state.checkedNotes} \n                      onCheckNote={this.onNoteListCheck} \n                      onClickAddNote={this.onClickAddNote}\n                      onClickDeleteNotes={this.onClickDeleteNotes}\n                      onClickDeleteFolder={this.onClickDeleteFolder}\n                      onUpdateFolder={this.onUpdateFolder}\n                      folder={folder}>\n                </Folder>\n              </Droppable>\n              )\n            )\n          }\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state:StoreState):StoreState => ({\n  ...state\n})\n\nconst mapDispatchToProps = dispatch => ({\n  dispatch:dispatch\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NoteList)\n","import React, { Component, Dispatch, createRef } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { Editor } from '@tinymce/tinymce-react';\nimport { StoreState } from '../redux/store-state';\nimport { Paper, TextField, Typography, Button, IconButton, Hidden, CircularProgress, Icon, FormControlLabel, Switch } from '@material-ui/core';\nimport { Subject } from 'rxjs';\nimport { IReduxAction, ReduxAction } from '../redux/redux-action.class';\nimport { ActionTypes } from '../redux/action-types';\nimport { INote } from '../models/note.interface';\nimport { async } from 'q';\nimport { databaseSvc } from '../services/database.service';\nimport { debounceTime } from 'rxjs/operators';\n\nimport { toast } from 'react-toastify';\n\ninterface Props extends StoreState{\n  dispatch?:<T>(action:IReduxAction<T>)=>any;\n  notes?:INote[];\n}\n\ninterface State{\n  loading?:boolean;\n  title?:string;\n  body?:string;\n  readonly?: boolean;\n}\n\nclass NoteEditor extends Component<Props, State> {\n\n  constructor(p){\n    super(p);\n    this.state = {};\n  }\n\n  sbjChange = new Subject<{title:string,body:string,readonly:boolean}>();\n  //quillRef = createRef<ReactQuill>();\n\n  currentNoteID:string = null;\n\n  componentWillMount(){\n    this.sbjChange.pipe(debounceTime(500))\n      .subscribe(async ()=>{\n        this.props.dispatch(new ReduxAction(ActionTypes.SET_SELECTED_NOTE, this.props.selectedNote).value);\n        this.props.dispatch(new ReduxAction(ActionTypes.SET_NOTE_LIST, [...this.props.notes]).value);\n        await databaseSvc.updateItem('notes', this.props.selectedNote);\n        this.setState({...this.state,loading:false});\n      });\n  }\n\n  componentWillReceiveProps(a,b){\n    const prop = a as Props;\n    const upcomingNoteID = prop.selectedNote && prop.selectedNote.ID || null;\n    if(this.currentNoteID != upcomingNoteID){\n      this.setState({...this.state,title:null,body:null,readonly:null});\n    }\n    this.currentNoteID = prop.selectedNote && prop.selectedNote.ID || null;\n  }\n\n  onCloseNote = ()=>{\n    this.props.dispatch(new ReduxAction(ActionTypes.SET_SELECTED_NOTE, null).value);\n  }\n\n  onDeleteNote = async (noteToDelete:INote)=>{\n    await databaseSvc.removeItem('notes',noteToDelete);\n    const newNoteList = this.props.notes.filter(n => n.ID!=noteToDelete.ID);\n    this.props.dispatch(new ReduxAction(ActionTypes.SET_NOTE_LIST, newNoteList).value);\n    this.onCloseNote();\n  }\n\n  onTitleChange(title:string){\n    const note = this.props.selectedNote;\n    note.Title = title;\n    this.sbjChange.next({title:this.state.title, body:this.state.body, readonly:this.state.readonly});\n    this.setState({...this.state,loading:true,title:title});\n  }\n\n  onBodyChange = (text:string) => {\n    // if(source!=\"user\"){\n    //   return;\n    // }\n    //const text = ev.level.content;\n    const note = this.props.selectedNote;\n    note.Body = text;\n    this.sbjChange.next({title:this.state.title, body:this.state.body, readonly:this.state.readonly});\n    this.setState({...this.state,loading:true,body:text});\n  }\n\n  onReadOnlyChange(isReadOnlyChecked:boolean){\n    const note = this.props.selectedNote;\n    note.IsReadOnly = isReadOnlyChecked;\n    this.sbjChange.next({title:this.state.title, body:this.state.body, readonly:this.state.readonly });\n    this.setState({...this.state,loading:true,readonly:isReadOnlyChecked});\n  }\n\n  copyClipboard = () => {\n    //const text =this.quillRef.current.getEditor().getText();\n    var copyhelper = document.createElement(\"input\");\n    copyhelper.className = 'copyhelper'\n    document.body.appendChild(copyhelper);\n    //copyhelper.value = text;\n    copyhelper.select();\n    document.execCommand(\"copy\");\n    document.body.removeChild(copyhelper);    \n    toast.info(`\"${this.props.selectedNote.Title}\" copied to clipboard.`, { position:\"bottom-right\", hideProgressBar:true, autoClose:2500 });\n  }\n\n  render() {\n    const { selectedNote } = this.props;\n    let { title,body,readonly } = this.state;\n    if(title==null){\n      title = selectedNote && selectedNote.Title || \"\";\n    }    \n\n    if(body==null){\n      body = selectedNote && selectedNote.Body || \"\";\n    }    \n\n    if(readonly==null){\n      readonly = selectedNote && selectedNote.IsReadOnly || false;\n    }\n\n    return (\n      <div className={\"note-editor-component\"}>\n        <div className={\"empty-editor-wrapper \"+(selectedNote && \"hidden\")}>\n          <div className={\"empty-editor-paper\"}>\n            <div>\n              <Icon>\n                <i className=\"backdrop-icon fas fa-book\"></i>\n              </Icon>\n            </div>\n          </div>        \n        </div> \n        <Paper classes={({root:(!selectedNote && \"hidden\")})} square>\n          <div className=\"title-wraper\">\n            <TextField id=\"txt-note-title\" \n              label=\"Title\" \n              onChange={e=>this.onTitleChange(e.target.value)} \n              classes={({root:'txt-title'})} \n              disabled={!selectedNote} \n              value={title}></TextField>\n            <CircularProgress color=\"secondary\" className={\"editor-save-progress \"+(!this.state.loading && \"hidden\")} />\n          </div>\n        </Paper>\n        <Paper classes={({root:\"quill-paper-wrapper \"+(!selectedNote && \"hidden\")})} square >      \n          {/* <ReactQuill onChange={(e,delta,source)=>this.onBodyChange(e,delta,source)} \n            ref={this.quillRef}\n            readOnly={!selectedNote || readonly} \n            value={body} \n            placeholder=\"write your notes :)\" theme=\"snow\" /> */}\n          <Editor\n            apiKey=\"g8p3uw4cm5xtob3gmhm918uozx96r78pql9tian9u9rzr1ip\"\n            init={{\n              paste_data_images : true,\n              skin: \"/skins/ui/CUSTOM/skin.css\",\n              content_css: \"/skins/ui/CUSTOM/content.css\",\n              height: 666,\n              menubar: false,\n              plugins: [\n                'advlist autolink lists link image charmap print preview anchor',\n                'searchreplace visualblocks code fullscreen',\n                'insertdatetime media table paste code help wordcount'\n              ],\n              toolbar:\n                'undo redo | formatselect | bold italic backcolor | \\\n                alignleft aligncenter alignright alignjustify | \\\n                bullist numlist outdent indent | removeformat | help'\n            }}\n            disabled={!selectedNote || readonly}\n            value={body}\n            onEditorChange={this.onBodyChange as any}\n          />            \n\n          <div className=\"bottom-toolbar\">\n            {/* <IconButton onClick={this.copyClipboard} className=\"btn-copy\" disableRipple>\n              <i className=\"fas fa-clipboard\"></i>\n            </IconButton>             */}\n            <FormControlLabel\n              control={\n                <Switch checked={readonly} onChange={(e,checked)=>this.onReadOnlyChange(checked)} />\n              }\n              label=\"Read-only\"/>            \n          </div>\n        </Paper>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state: any) => ({\n  ...state\n})\n\nconst mapDispatchToProps = (dispatch: any) => ({dispatch})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NoteEditor)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { Toolbar, IconButton, Typography, AppBar, Hidden, withWidth, Tooltip, SwipeableDrawer } from '@material-ui/core';\nimport { Dispatch } from 'redux';\nimport { StoreState } from '../redux/store-state';\nimport { IReduxAction, ReduxAction } from '../redux/redux-action.class';\nimport { Breakpoint } from '@material-ui/core/styles/createBreakpoints';\nimport authSvc from '../services/auth.service';\nimport { ActionTypes } from '../redux/action-types';\nimport NoteList from './NoteList';\nimport { INote } from '../models/note.interface';\nimport NoteEditor from './NoteEditor';\n\ninterface LayoutProps extends StoreState{\n  dispatch?:<T>(action:IReduxAction<T>)=>any,\n  width?:Breakpoint\n}\n\ninterface LayoutState {\n  drawerOpen?:boolean\n}\n\nclass Layout extends Component<LayoutProps, LayoutState> {\n  constructor(props){\n    super(props);\n    this.state = {\n      drawerOpen:false\n    }\n  }\n\n  toggleDrawer = (isOpen:boolean = null)=>{\n    if(isOpen==null){\n      isOpen = !this.state.drawerOpen;\n    }\n\n    this.setState({...this.state,drawerOpen:isOpen});\n  }\n\n  isMobile(){\n    return this.props.width==\"xs\" || this.props.width==\"sm\";\n  }\n\n  logout = async()=>{\n    await authSvc.logOut();\n    this.props.dispatch(new ReduxAction(ActionTypes.SET_USER, null).value);\n  }\n\n  onSelectNote = (note:INote)=>{\n    this.props.dispatch(new ReduxAction(ActionTypes.SET_SELECTED_NOTE, note).value);\n    this.toggleDrawer(false);\n  }\n\n  render() {\n    return (\n      <div className={`layout-component ${(this.state.drawerOpen || !this.isMobile()) && \"drawer-open\"}`}>\n        <nav>\n          <SwipeableDrawer anchor=\"left\" \n            variant={this.isMobile()? \"temporary\":\"permanent\"} \n            onOpen={()=>this.toggleDrawer(true)}\n            onClose={()=>this.toggleDrawer(false)} \n            open={this.state.drawerOpen} \n            classes={({paper:\"drawer-paper\"})} >\n            <NoteList onSelectNote={this.onSelectNote} ></NoteList>\n          </SwipeableDrawer>\n        </nav>      \n        <AppBar color=\"primary\" position=\"relative\">\n          <Toolbar>\n            <Hidden only={[\"md\",\"lg\",\"xl\"]} >\n              <IconButton onClick={()=>this.toggleDrawer()} >\n                <i className=\"fas fa-bars\"></i>\n              </IconButton>   \n            </Hidden>\n            <Typography variant=\"h6\" color=\"inherit\">\n              {this.props.user.email}  \n            </Typography>\n            <Tooltip title=\"Sign Out\" placement=\"left\" >\n              <IconButton onClick={this.logout} classes={({root:\"btn-logout\"})} >\n                <i style={({fontSize:\"20px\"})} className=\"fas fa-power-off\"></i>\n              </IconButton>\n            </Tooltip>            \n          </Toolbar>\n        </AppBar>\n        <div className=\"layout-content\">\n          <NoteEditor></NoteEditor>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state:StoreState):StoreState => ({\n    user:state.user\n})\n\nconst mapDispatchToProps = (dispatch:Dispatch) => {\n  return {\n    dispatch:dispatch\n  } as LayoutProps;\n}\n\nconst connected = connect(mapStateToProps, mapDispatchToProps)(Layout);\nconst withWidthConnected = withWidth()(connected);\nexport default withWidthConnected;\n","import React, { Component, Dispatch } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { StoreState } from '../redux/store-state';\nimport { ReduxAction, IReduxAction } from '../redux/redux-action.class';\nimport firebase from 'firebase';\nimport { ActionTypes } from '../redux/action-types';\nimport firebaseSvc from '../services/firebase.service';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Login from './Login';\nimport Layout from './Layout';\nimport { databaseSvc } from '../services/database.service';\nimport { INote } from '../models/note.interface';\nimport { IFolder } from '../models/folder.interface';\n\ninterface AuthProtectorProps extends StoreState {\n  dispatch?:(action:IReduxAction<any>)=>any\n}\n\ninterface AuthProtectorState {\n  loading?: boolean;\n}\n\nclass AuthProtector extends Component<AuthProtectorProps, AuthProtectorState> {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true\n    };\n  }\n\n  componentDidMount(){\n    this.checkAuth();\n  }\n\n  async checkAuth(){\n    this.setState({...this.state,loading:true});\n    firebaseSvc.auth().onAuthStateChanged(user => {\n      this.props.dispatch(new ReduxAction(ActionTypes.SET_USER, user).value);\n      this.setState({...this.state,loading:false});\n      if(user){\n        this.loadNotes();\n      }      \n    });\n  }\n\n  async loadNotes(){\n    const folders = databaseSvc.getCollection<IFolder>(\"folders\",(qry)=>qry.where(\"UID\",\"==\",this.props.user.uid));\n    const notes = databaseSvc.getCollection<INote>(\"notes\", (qry)=>qry.where(\"UID\",\"==\",this.props.user.uid));\n    this.props.dispatch(new ReduxAction(ActionTypes.SET_NOTE_LIST, await notes).value);\n    this.props.dispatch(new ReduxAction(ActionTypes.SET_FOLDER_LIST, await folders).value);\n  }  \n\n  render() {\n    if (this.state.loading) {\n      return (\n        <div className=\"giant-progress-container-wrapper\">\n          <div className=\"giant-progress-container\">\n            <CircularProgress\n              variant=\"indeterminate\"\n              size={200}\n              value={50}\n              color=\"primary\"\n            />\n          </div>\n        </div>\n      );\n    } else if (this.props.user == null) {\n      return (\n        <div className=\"flex-hbox login-wrapper\">\n          <Login></Login>\n\t\t\t\t</div>\n      );\n    } else {\n      return (\n        <Layout></Layout>\n      );\n    }\n  }\n}\n\nconst mapStateToProps = (state: StoreState): AuthProtectorProps => ({\n  user: state.user\n})\n\nconst mapDispatchToProps = (dispatch:Dispatch<any>):AuthProtectorProps => {\n  return {\n    dispatch:dispatch\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AuthProtector)\n","import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport '../stylesheets/App.scss';\n// import 'react-quill/dist/quill.snow.css';\n// import 'react-quill/dist/quill.core.css';\n\nimport 'react-toastify/dist/ReactToastify.css';\nimport '@material-ui/core'\nimport firebase from 'firebase';\nimport { Button, CssBaseline } from '@material-ui/core';\nimport { createMuiTheme, MuiThemeProvider } from '@material-ui/core/styles';\nimport AuthProtector from './AuthProtector';\nimport { ToastContainer } from 'react-toastify';\n\nconst theme = createMuiTheme({\n  palette:{\n    type: 'dark',\n    primary:{\n      main:'#673ab7'\n    },\n    secondary: {\n      main: '#00e5ff',\n    }\n  }\n});\n\ninterface AppProps{\n\n}\n\nclass App extends Component<AppProps> {\n  constructor(props){\n    super(props);\n\n  }\n\n  render() {\n    return (\n      <MuiThemeProvider theme={theme}>\n          <CssBaseline/>\n          <AuthProtector></AuthProtector>\n          <ToastContainer />\n      </MuiThemeProvider>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport { store } from './redux/store';\nimport App from './components/App';\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>, \n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}