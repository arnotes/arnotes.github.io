(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{315:function(e,t,n){e.exports=n(635)},320:function(e,t,n){},325:function(e,t,n){},635:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(24),c=n.n(o),s=(n(320),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function i(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}!function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");s?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):i(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):i(t,e)})}}();var l,u=n(30),h=n(62),d=n(40);!function(e){e.SET_USER="SET_USER",e.SET_ACTIVE_NOTE="SET_ACTIVE_NOTE",e.SET_NOTE_LIST="SET_NOTE_LIST",e.SET_FILTERED_NOTE_LIST="SET_FILTERED_NOTE_LIST",e.SET_SEARCH_QUERY="SET_SEARCH_QUERY",e.SET_SELECTED_NOTE="SET_SELECTED_NOTE",e.SET_SEARCHINPUT_FOCUS_STATE="SET_SEARCHINPUT_FOCUS_STATE"}(l||(l={}));var p=Object(h.b)({user:function(e,t){switch(t.type){case l.SET_USER:return t.data;default:return e||null}},notes:function(e,t){switch(t.type){case l.SET_NOTE_LIST:return Object(d.a)(t.data).sort(function(e,t){return(e.Index||0)-(t.Index||0)});default:return e||[]}},strSearch:function(e,t){switch(t.type){case l.SET_SEARCH_QUERY:return t.data;default:return e||""}},filteredNotes:function(e,t){var n=[];switch(t.type){case l.SET_FILTERED_NOTE_LIST:t.data&&(n=Object(d.a)(t.data));break;default:e&&(n=Object(d.a)(e))}return n.sort(function(e,t){return e.Title.toLowerCase().localeCompare(t.Title.toLowerCase())})},selectedNote:function(e,t){switch(t.type){case l.SET_SELECTED_NOTE:return t.data;default:return e||null}}}),f=Object(h.c)(p,{}),E=n(19),m=n(20),v=n(31),b=n(29),g=n(32),O=(n(325),n(326),n(327),n(328),n(329),n(7)),S=n(27),w=n(18),N=n.n(w),T=n(21),y=n(25),k=function(){function e(t,n){Object(E.a)(this,e),this.type=null,this.data=null,this.type=t,this.data=n}return Object(m.a)(e,[{key:"value",get:function(){return{type:this.type,data:this.data}}}]),e}(),j=n(119),C=n.n(j),_=C.a.initializeApp({apiKey:"AIzaSyCpFJ42-kwnLLQOLAiS3k7Z7JGMa6jQK4Y",authDomain:"arnotes-3dcf8.firebaseapp.com",projectId:"arnotes-3dcf8"}),I=n(116),D=n.n(I),x=new(function(){function e(){Object(E.a)(this,e),this.auth=void 0,this.googleAuthProvider=null,this.auth=_.auth(),this.googleAuthProvider=new C.a.auth.GoogleAuthProvider}return Object(m.a)(e,[{key:"loginWithGoogle",value:function(){return this.auth.signInWithRedirect(this.googleAuthProvider)}},{key:"logOut",value:function(){return this.auth.signOut()}}]),e}()),L=function(e){function t(e){return Object(E.a)(this,t),Object(v.a)(this,Object(b.a)(t).call(this,e))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"loginWith",value:function(e){switch(e){case"google":x.loginWithGoogle()}}},{key:"render",value:function(){var e=this;return r.a.createElement(O.e,{open:!0,fullScreen:!1},r.a.createElement(O.h,null,"Login"),r.a.createElement(O.f,null,r.a.createElement(O.g,null,r.a.createElement(O.o,{component:"nav"},r.a.createElement(O.p,{button:!0,onClick:function(t){return e.loginWith("google")}},r.a.createElement(O.q,null,r.a.createElement("i",{className:"fab fa-google"})),r.a.createElement(O.r,null,"Sign in with Google")),r.a.createElement(O.v,{title:"Not supported"},r.a.createElement(O.p,{button:!0},r.a.createElement(O.q,null,r.a.createElement("i",{className:"fab fa-facebook"})),r.a.createElement(O.r,null,r.a.createElement("del",null,"Login with Facebook"))))))))}}]),t}(a.Component),A=Object(u.b)(function(e){return{user:e.user}},function(e){return{dispatch:e}})(L),R=new(function(){function e(){Object(E.a)(this,e),this.firestore=_.firestore()}return Object(m.a)(e,[{key:"getCollection",value:function(){var e=Object(y.a)(N.a.mark(function e(t){var n,a,r,o,c=arguments;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:null,a=this.firestore.collection(t),n&&(a=n(a)),e.next=5,a.get();case 5:return r=e.sent,o=[],r.forEach(function(e){var t=e.data();t.ID=e.id,o.push(t)}),o.sort(function(e,t){return e.ID.localeCompare(t.ID)}),e.abrupt("return",o);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addToCollection",value:function(){var e=Object(y.a)(N.a.mark(function e(t,n){var a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.firestore.collection(t).add(n);case 2:return a=e.sent,n.ID=a.id,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateItem",value:function(e,t){return this.firestore.collection(e).doc(t.ID).update(t)}},{key:"updateMany",value:function(e,t){var n=this.firestore.batch(),a=!0,r=!1,o=void 0;try{for(var c,s=t[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var i=c.value,l=this.firestore.collection(e).doc(i.ID);n.update(l,i)}}catch(u){r=!0,o=u}finally{try{a||null==s.return||s.return()}finally{if(r)throw o}}return n.commit()}},{key:"removeItem",value:function(e,t){return this.firestore.collection(e).doc(t.ID).delete()}},{key:"removeMany",value:function(e,t){var n=this.firestore.batch(),a=!0,r=!1,o=void 0;try{for(var c,s=t[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var i=c.value,l=this.firestore.collection(e).doc(i.ID);n.delete(l)}}catch(u){r=!0,o=u}finally{try{a||null==s.return||s.return()}finally{if(r)throw o}}return n.commit()}}]),e}()),U=n(636),W=n(637),M=n(249),P=n.n(M),B=n(82),F=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(v.a)(this,Object(b.a)(t).call(this,e))).sbjSearch=new U.a,n.onSearchChange=function(e){n.setState(Object(T.a)({},n.state,{loading:!0,strSearch:e.target.value})),n.sbjSearch.next({})},n.onClickNote=function(e){n.props.onSelectNote&&n.props.onSelectNote(e)},n.onClickAddNote=Object(y.a)(N.a.mark(function e(){var t,a,r;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="NEW_NOTE_"+(new Date).getTime().toString(),a={Body:"",Title:t,UID:n.props.user.uid},r=[].concat(Object(d.a)(n.props.notes),[a]),n.props.dispatch(new k(l.SET_NOTE_LIST,r).value),n.props.dispatch(new k(l.SET_SELECTED_NOTE,a).value),B.toast.info("New note added!",{position:"bottom-right",hideProgressBar:!0,autoClose:2500}),setTimeout(function(){var e=document.querySelector("#txt-note-title");e.focus(),e.select()},100),e.next=9,R.addToCollection("notes",a);case 9:case"end":return e.stop()}},e)})),n.onClickDeleteNotes=Object(y.a)(N.a.mark(function e(){var t,a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(d.a)(n.state.checkedNotes),n.state.checkedNotes.includes(n.props.selectedNote)&&n.props.dispatch(new k(l.SET_SELECTED_NOTE,null).value),n.setState(Object(T.a)({},n.state,{checkedNotes:[]})),a=n.props.notes.filter(function(e){return!t.includes(e)}),n.props.dispatch(new k(l.SET_NOTE_LIST,a).value),B.toast.info("".concat(t.length," note/s deleted!"),{position:"bottom-right",hideProgressBar:!0,autoClose:2500}),e.next=8,R.removeMany("notes",t);case 8:case"end":return e.stop()}},e)})),n.onNoteListCheck=function(e,t){t?n.setState(Object(T.a)({},n.state,{checkedNotes:[].concat(Object(d.a)(n.state.checkedNotes),[e])})):n.setState(Object(T.a)({},n.state,{checkedNotes:n.state.checkedNotes.filter(function(t){return t.ID!=e.ID})}))},n.dragulaDecorator=function(e){if(e){P()([e],{moves:function(e,t,n){return n.classList.contains("note-drag-handle")}}).on("drop",function(e,t,a,r){var o=n.props.notes.filter(function(t){return t.ID!=e.id}),c=Array.from(t.children),s=c.indexOf(e),i=c[s-1],l=c[s+1],u=null;if(i?u=o.findIndex(function(e){return e.ID==i.id})+1:l&&(u=o.findIndex(function(e){return e.ID==l.id})),null!=u){o.splice(u,0,n.props.notes.find(function(t){return t.ID==e.id}));var h=0;o.forEach(function(e){e.Index=h,h++}),n.onNoteListReorder(o)}})}},n.state={checkedNotes:[],strSearch:null},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.sbjSearch.pipe(Object(W.a)(500)).subscribe(function(){e.setState(Object(T.a)({},e.state,{loading:!1})),e.props.dispatch(new k(l.SET_SEARCH_QUERY,e.state.strSearch).value)})}},{key:"getFilterNotes",value:function(){var e=this.props&&this.props.selectedNote&&this.props.selectedNote.ID||"",t=(this.props.strSearch||"").toLowerCase();return(this.props.notes||[]).slice(0).filter(function(n){return n.Body.toLowerCase().includes(t)||n.Title.toLocaleLowerCase().includes(t)||n.ID==e})}},{key:"onNoteListReorder",value:function(e){R.updateMany("notes",e)}},{key:"renderListItem",value:function(e,t){var n=this,a=this.props.selectedNote==e,o=this.state.checkedNotes;return r.a.createElement(O.p,{button:!0,dense:!0,divider:!0,key:e.ID,id:e.ID,classes:{root:"note-list-item "+(a?"list-btn-primary":"")},onClick:function(t){return n.onClickNote(e)}},r.a.createElement(O.b,{checked:o.includes(e),onChange:function(t,a){return n.onNoteListCheck(e,a)},onClick:function(e){return e.stopPropagation()},classes:{root:"list-chk"}}),r.a.createElement(O.r,{classes:{root:"note-item-text "+(a&&"note-item-text-selected")}},e.Title),r.a.createElement("div",{className:"note-drag-handle"},r.a.createElement("i",{className:"fas fa-arrows-alt-v"})))}},{key:"render",value:function(){var e=this,t=this.state.loading,n=this.getFilterNotes(),a=this.state.strSearch;return null==a&&(a=this.props.strSearch||""),r.a.createElement("div",{className:"note-list-component"},r.a.createElement(O.s,{classes:{root:"actions-bar-wrapper"}},r.a.createElement(O.o,null,r.a.createElement(O.p,{onClick:this.onClickAddNote,classes:{root:"list-btn-primary_"},button:!0,dense:!0},r.a.createElement(O.r,{classes:{root:"note-item-text"}},"CREATE NEW NOTE"),r.a.createElement(O.q,null,r.a.createElement("i",{className:"fas fa-plus-circle"}))),r.a.createElement(O.p,{onClick:this.onClickDeleteNotes,disabled:this.state.checkedNotes.length<1,classes:{root:"list-btn-danger_"},button:!0,dense:!0},r.a.createElement(O.r,{classes:{root:"note-item-text"}},"DELETE NOTES"),r.a.createElement(O.q,null,r.a.createElement("i",{className:"fas fa-trash-alt"})))),"\xa0"),r.a.createElement(O.s,{classes:{root:"searchbar-paper"}},r.a.createElement("div",{className:"search-input-wrapper"},r.a.createElement(O.m,{onChange:this.onSearchChange,value:a,classes:{root:"search-input"},placeholder:"Search.."}),r.a.createElement(O.k,{fontSize:"small",classes:{root:"search-icon"}},r.a.createElement("i",{style:{color:"#a0a0a0"},className:"fas fa-search"})))),r.a.createElement(O.n,{classes:{root:t?"search-progress-loading":"search-progress-complete"},color:"primary"}),r.a.createElement("div",{className:"list-of-notes"},r.a.createElement(O.o,null,r.a.createElement("div",{ref:this.dragulaDecorator},n.map(function(t,n){return e.renderListItem(t,n)})))))}}]),t}(a.Component),q=Object(u.b)(function(e){return Object(T.a)({},e)},function(e){return{dispatch:e}})(F),z=n(250),H=n.n(z),Q=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(v.a)(this,Object(b.a)(t).call(this,e))).sbjChange=new U.a,n.currentNoteID=null,n.onCloseNote=function(){n.props.dispatch(new k(l.SET_SELECTED_NOTE,null).value)},n.onDeleteNote=function(){var e=Object(y.a)(N.a.mark(function e(t){var a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.removeItem("notes",t);case 2:a=n.props.notes.filter(function(e){return e.ID!=t.ID}),n.props.dispatch(new k(l.SET_NOTE_LIST,a).value),n.onCloseNote();case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.state={},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.sbjChange.pipe(Object(W.a)(500)).subscribe(Object(y.a)(N.a.mark(function t(){return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.dispatch(new k(l.SET_SELECTED_NOTE,e.props.selectedNote).value),t.next=3,R.updateItem("notes",e.props.selectedNote);case 3:e.setState(Object(T.a)({},e.state,{loading:!1}));case 4:case"end":return t.stop()}},t)})))}},{key:"componentWillReceiveProps",value:function(e,t){var n=e,a=n.selectedNote&&n.selectedNote.ID||null;this.currentNoteID!=a&&this.setState(Object(T.a)({},this.state,{title:null,body:null})),this.currentNoteID=n.selectedNote&&n.selectedNote.ID||null}},{key:"onTitleChange",value:function(e){this.props.selectedNote.Title=e,this.sbjChange.next({title:this.state.title,body:this.state.body}),this.setState(Object(T.a)({},this.state,{loading:!0,title:e}))}},{key:"onBodyChange",value:function(e,t,n){"user"==n&&(this.props.selectedNote.Body=e,this.sbjChange.next({title:this.state.title,body:this.state.body}),this.setState(Object(T.a)({},this.state,{loading:!0,body:e})))}},{key:"render",value:function(){var e=this,t=this.props.selectedNote,n=this.state,a=n.title,o=n.body;return null==a&&(a=t&&t.Title||""),null==o&&(o=t&&t.Body||""),r.a.createElement("div",{className:"note-editor-component"},r.a.createElement("div",{className:"empty-editor-wrapper "+(t&&"hidden")},r.a.createElement("div",{className:"empty-editor-paper"},r.a.createElement("div",null,r.a.createElement(O.k,null,r.a.createElement("i",{className:"backdrop-icon fas fa-book"}))))),r.a.createElement(O.s,{classes:{root:!t&&"hidden"},square:!0},r.a.createElement("div",{className:"title-wraper"},r.a.createElement(O.t,{id:"txt-note-title",label:"Title",onChange:function(t){return e.onTitleChange(t.target.value)},classes:{root:"txt-title"},disabled:!t,value:a}),r.a.createElement(O.l,{disabled:!t,onClick:this.onCloseNote,color:"default"},r.a.createElement("i",{style:{fontSize:"20px"},className:"fas fa-times-circle"})),r.a.createElement(O.c,{color:"secondary",className:"editor-save-progress "+(!this.state.loading&&"hidden")}))),r.a.createElement(O.s,{classes:{root:"quill-paper-wrapper "+(!t&&"hidden")},square:!0},r.a.createElement(H.a,{onChange:function(t,n,a){return e.onBodyChange(t,n,a)},readOnly:!t,value:o,placeholder:"write your notes :)",theme:"snow"})))}}]),t}(a.Component),G=Object(u.b)(function(e){return Object(T.a)({},e)},function(e){return{dispatch:e}})(Q),Y=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(v.a)(this,Object(b.a)(t).call(this,e))).toggleDrawer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==e&&(e=!n.state.drawerOpen),n.setState(Object(T.a)({},n.state,{drawerOpen:e}))},n.logout=Object(y.a)(N.a.mark(function e(){return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.logOut();case 2:n.props.dispatch(new k(l.SET_USER,null).value);case 3:case"end":return e.stop()}},e)})),n.onSelectNote=function(e){n.props.dispatch(new k(l.SET_SELECTED_NOTE,e).value),n.toggleDrawer(!1)},n.state={drawerOpen:!1},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"isMobile",value:function(){return"xs"==this.props.width||"sm"==this.props.width}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"layout-component ".concat((this.state.drawerOpen||!this.isMobile())&&"drawer-open")},r.a.createElement("nav",null,r.a.createElement(O.i,{anchor:"left",variant:this.isMobile()?"temporary":"permanent",onClose:function(){return e.toggleDrawer(!1)},open:this.state.drawerOpen,classes:{paper:"drawer-paper"}},r.a.createElement(q,{onSelectNote:this.onSelectNote}))),r.a.createElement(O.a,{color:"primary",position:"relative"},r.a.createElement(O.u,null,r.a.createElement(O.j,{only:["md","lg","xl"]},r.a.createElement(O.l,{onClick:function(){return e.toggleDrawer()}},r.a.createElement("i",{className:"fas fa-bars"}))),r.a.createElement(O.w,{variant:"h6",color:"inherit"},this.props.user.email),r.a.createElement(O.v,{title:"Sign Out",placement:"left"},r.a.createElement(O.l,{onClick:this.logout,classes:{root:"btn-logout"}},r.a.createElement("i",{style:{fontSize:"20px"},className:"fas fa-power-off"}))))),r.a.createElement("div",{className:"layout-content"},r.a.createElement(G,null)))}}]),t}(a.Component),J=Object(u.b)(function(e){return{user:e.user}},function(e){return{dispatch:e}})(Y),K=Object(O.x)()(J),V=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(v.a)(this,Object(b.a)(t).call(this,e))).state={loading:!0},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.checkAuth()}},{key:"checkAuth",value:function(){var e=Object(y.a)(N.a.mark(function e(){var t=this;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState(Object(T.a)({},this.state,{loading:!0})),_.auth().onAuthStateChanged(function(e){t.props.dispatch(new k(l.SET_USER,e).value),t.setState(Object(T.a)({},t.state,{loading:!1})),e&&t.loadNotes()});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"loadNotes",value:function(){var e=Object(y.a)(N.a.mark(function e(){var t,n=this;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.getCollection("notes",function(e){return e.where("UID","==",n.props.user.uid)});case 2:t=e.sent,this.props.dispatch(new k(l.SET_NOTE_LIST,t).value);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?r.a.createElement("div",{className:"giant-progress-container-wrapper"},r.a.createElement("div",{className:"giant-progress-container"},r.a.createElement(D.a,{variant:"indeterminate",size:200,value:50,color:"primary"}))):null==this.props.user?r.a.createElement("div",{className:"flex-hbox login-wrapper"},r.a.createElement(A,null)):r.a.createElement(K,null)}}]),t}(a.Component),Z=Object(u.b)(function(e){return{user:e.user}},function(e){return{dispatch:e}})(V),$=Object(S.createMuiTheme)({palette:{type:"dark",primary:{main:"#673ab7"},secondary:{main:"#00e5ff"}}}),X=function(e){function t(e){return Object(E.a)(this,t),Object(v.a)(this,Object(b.a)(t).call(this,e))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(S.MuiThemeProvider,{theme:$},r.a.createElement(O.d,null),r.a.createElement(Z,null),r.a.createElement(B.ToastContainer,null))}}]),t}(a.Component);c.a.render(r.a.createElement(u.a,{store:f},r.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[315,1,2]]]);
//# sourceMappingURL=main.0b0d1e78.chunk.js.map